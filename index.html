<!doctype html>
<html lang="zh" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é©¬æ¥è¯­å¿«é€Ÿå…¥é—¨æ•™ç¨‹</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js" onerror="console.warn('element_sdk.js not found, continuing without SDK')"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&amp;family=Poppins:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    * {
      font-family: 'Noto Sans SC', 'Poppins', sans-serif;
    }
    .malay-text {
      font-family: 'Poppins', sans-serif;
    }
    .chapter-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .chapter-card:hover {
      transform: translateY(-4px);
    }
    .vocab-item {
      transition: all 0.2s ease;
    }
    .vocab-item:hover {
      transform: scale(1.02);
    }
    .nav-link {
      transition: all 0.2s ease;
    }
    .nav-link:hover {
      background: rgba(255,255,255,0.1);
    }
    .practice-btn {
      transition: all 0.2s ease;
    }
    .practice-btn:hover {
      transform: scale(1.05);
    }
    .audio-btn {
      transition: all 0.15s ease;
    }
    .audio-btn:active {
      transform: scale(0.95);
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .fade-in {
      animation: fadeIn 0.5s ease forwards;
    }
    .progress-ring {
      transition: stroke-dashoffset 0.5s ease;
    }
    .game-option {
      transition: all 0.3s ease;
    }
    .game-option:hover:not(:disabled) {
      transform: translateX(8px);
    }
    .perspective-1000 {
      perspective: 1000px;
    }
    .transform-style-preserve-3d {
      transform-style: preserve-3d;
    }
    .backface-hidden {
      backface-visibility: hidden;
    }
    .rotate-y-180 {
      transform: rotateY(180deg);
    }
    .flashcard {
      transform-style: preserve-3d;
      transition: transform 0.6s;
    }
    .flashcard-face {
      backface-visibility: hidden;
    }
    @keyframes flyToCart {
      0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(300px, -200px) scale(0.3);
        opacity: 0;
      }
    }
    .fly-to-cart {
      animation: flyToCart 0.8s ease-out forwards;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }
    .shake {
      animation: shake 0.4s ease-in-out;
    }
    .boutique-item {
      transition: all 0.3s ease;
    }
    .boutique-item:hover {
      transform: scale(1.05);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" onerror="console.warn('data_sdk.js not found, continuing without SDK')"></script>
</head>
<body class="h-full bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-900 text-white overflow-auto">
  <div id="app" class="w-full min-h-full">
    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-emerald-900/95 backdrop-blur-sm border-b border-emerald-700/50">
      <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-3 cursor-pointer" onclick="showHome()">
          <div class="w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center text-xl">
            ğŸ‡²ğŸ‡¾
          </div>
          <div>
            <h1 id="nav-title" class="font-bold text-lg leading-tight">é©¬æ¥è¯­å¿«é€Ÿå…¥é—¨</h1>
            <p class="text-emerald-300 text-xs malay-text">Kursus Pantas Bahasa Melayu</p>
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button onclick="showHome()" class="nav-link px-3 py-2 rounded-lg text-sm font-medium">é¦–é¡µ</button>
          <button onclick="showProgress()" class="nav-link px-3 py-2 rounded-lg text-sm font-medium">è¿›åº¦</button>
			
			 <!-- YouTube Help Button -->
  <a href="https://youtube.com/@fyiilysm?si=TMOv8w7TZzV_Zq4F" target="_blank" 
     class="px-3 py-2 rounded-lg text-sm font-medium bg-red-600 hover:bg-red-700 text-white flex items-center gap-2 transition-colors">
    <span>è§†é¢‘å¸®åŠ©</span>
    <span>â–¶ï¸</span>
  </a>
        </div>
      </div>
		
    </nav>

    <!-- Main Content -->
    <main id="main-content" class="max-w-6xl mx-auto px-4 py-8">
      <!-- Home View -->
      <div id="home-view">
        <!-- Hero Section -->
        <div class="text-center mb-12 fade-in">
          <div class="inline-flex items-center gap-2 bg-emerald-800/50 px-4 py-2 rounded-full text-emerald-300 text-sm mb-6">
            <span>ğŸ¯</span>
            <span id="welcome-text">ä¸“ä¸ºä¸­å›½æ¸¸å®¢è®¾è®¡</span>
          </div>
          <h1 id="hero-title" class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-white via-emerald-100 to-cyan-200 bg-clip-text text-transparent">é©¬æ¥è¯­å¿«é€Ÿå…¥é—¨æ•™ç¨‹</h1>
          <p class="text-xl text-emerald-200 malay-text mb-2">Kursus Pantas Bahasa Melayu</p>
          <p class="text-emerald-300 max-w-2xl mx-auto">ä»é›¶å¼€å§‹å­¦ä¹ é©¬æ¥è¯­ï¼ŒæŒæ¡æ—…æ¸¸å¿…å¤‡è¯æ±‡å’Œæ—¥å¸¸å¯¹è¯ã€‚6ä¸ªå®ç”¨ç« èŠ‚ï¼Œè®©æ‚¨çš„é©¬æ¥è¥¿äºšä¹‹æ—…æ›´åŠ é¡ºç•…ï¼</p>
        </div>

        <!-- Chapter Grid -->
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
          <!-- Chapter 1 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(1)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸ“š
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬1ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">é©¬æ¥è¯­ç®€ä»‹</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">Pengenalan Bahasa Melayu</p>
            <p class="text-emerald-200 text-sm mb-4">å­¦ä¹ é©¬æ¥è¯­çš„åŸºæœ¬å‘éŸ³ã€å…ƒéŸ³è¾…éŸ³ä»¥åŠç®€å•çš„SVOå¥å‹ã€‚</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">12ä¸ªè¯æ±‡ Â· 5ä¸ªå¥å‹</span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Chapter 2 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(2)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-pink-400 to-rose-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸ‘‹
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬2ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">è‡ªæˆ‘ä»‹ç»</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">Pengenalan Diri</p>
            <p class="text-emerald-200 text-sm mb-4">å­¦ä¹ ç”¨é©¬æ¥è¯­ä»‹ç»è‡ªå·±çš„å§“åã€å›½ç±ã€èº«ä»½å’ŒèŒä¸šã€‚</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">25ä¸ªè¯æ±‡ Â· å¯¹è¯ç»ƒä¹  Â· æ–‡åŒ–ç¬”è®°</span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Chapter 3 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(3)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                âœˆï¸
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬3ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">æœºåœºä¸äº¤é€š</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">Di Lapangan Terbang &amp; Pengangkutan</p>
            <p class="text-emerald-200 text-sm mb-4">æŒæ¡å…¥å¢ƒã€è¡Œæé¢†å–ã€æµ·å…³å’Œæ‰¾äº¤é€šå·¥å…·çš„å®ç”¨å¯¹è¯ã€‚å«äº’åŠ¨æ¸¸æˆï¼</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">18ä¸ªè¯æ±‡ Â· å¯¹è¯ Â· ğŸ® æ¸¸æˆ</span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Chapter 4 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(4)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-purple-400 to-violet-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸ¨
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬4ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">é…’åº—</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">Di Hotel</p>
            <p class="text-emerald-200 text-sm mb-4">åŠç†å…¥ä½ã€è¯¢é—®è®¾æ–½ã€ç¤¼è²ŒæŠ•è¯‰ã€‚å«é…å¯¹æ¸¸æˆï¼</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">10ä¸ªè¯æ±‡ Â· å¯¹è¯ Â· ğŸ´ é…å¯¹æ¸¸æˆ</span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Chapter 5 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(5)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-red-400 to-orange-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸœ
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬5ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">é¤å…ä¸ç¾é£Ÿ</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">Di Restoran &amp; Makanan</p>
            <p class="text-emerald-200 text-sm mb-4">ç‚¹é¤ã€è¡¨è¾¾å£å‘³åå¥½ã€è¯¢é—®ä»·æ ¼å’Œæ‰“åŒ…ã€‚å«ç»ƒä¹ é¢˜ï¼</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">10ä¸ªè¯æ±‡ Â· 7ä¸ªå¥å‹ Â· âœï¸ ç»ƒä¹ </span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Chapter 6 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(6)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸ›ï¸
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬6ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">è´­ç‰©ä¸è®¨ä»·è¿˜ä»·</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">Membeli-belah</p>
            <p class="text-emerald-200 text-sm mb-4">è¯¢é—®ä»·æ ¼ã€é€‰æ‹©å°ºç å’Œé¢œè‰²ã€ç¤¼è²Œè®¨ä»·è¿˜ä»·ã€‚å«è™šæ‹Ÿç²¾å“åº—æ¸¸æˆï¼</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">11ä¸ªè¯æ±‡ Â· 6ä¸ªå¥å‹ Â· ğŸ›ï¸ ç²¾å“åº—æ¸¸æˆ</span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Chapter 7 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(7)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸ—ºï¸
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬7ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">æ–¹å‘ä¸ä½ç½®</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">Arah &amp; Lokasi</p>
            <p class="text-emerald-200 text-sm mb-4">ç¤¼è²Œè¯¢é—®æ–¹å‘ã€ç†è§£åŸºæœ¬æ–¹å‘è¯æ±‡ã€ä½¿ç”¨åœ°ç‚¹è¯æ±‡ã€‚å«åŸå¸‚å¯¼èˆªæ¸¸æˆï¼</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">18ä¸ªè¯æ±‡ Â· å¯¹è¯ Â· ğŸ—ºï¸ å¯¼èˆªæ¸¸æˆ</span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Chapter 8 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(8)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-fuchsia-400 to-pink-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸš‘
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬8ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">ç´§æ€¥æƒ…å†µä¸å¥åº·</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">KECEMASAN &amp; KESIHATAN</p>
            <p class="text-emerald-200 text-sm mb-4">ç´§æ€¥æ±‚åŠ©ã€è¡¨è¾¾ç”Ÿç—…æˆ–å±é™©ã€åŒ»é™¢ä¸è­¦å¯Ÿå±€ç­‰æ±‚åŠ©åœ°ç‚¹ã€‚å«å¯¹è¯ä¸é‡è¦ç¬”è®°ã€‚</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">10ä¸ªè¯æ±‡ Â· 8ä¸ªå¥å­ Â· å¯¹è¯ Â· é‡è¦ç¬”è®°</span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Chapter 9 -->
          <div class="chapter-card bg-gradient-to-br from-emerald-800/80 to-emerald-900/80 rounded-2xl p-6 border border-emerald-700/50 cursor-pointer" onclick="showChapter(9)">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸ­
              </div>
              <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬9ç« </span>
            </div>
            <h3 class="text-xl font-bold mb-1">æ–‡åŒ–ä¸ç¤¼ä»ª</h3>
            <p class="text-emerald-300 text-sm malay-text mb-3">Budaya &amp; Etika Komunikasi Malaysia</p>
            <p class="text-emerald-200 text-sm mb-4">ç¦å¿Œäº‹é¡¹ã€é¤æ¡Œç¤¼ä»ªã€ç€è£…å»ºè®®ã€å¤šå…ƒæ–‡åŒ–ä¸é—®å€™æ–¹å¼ã€‚</p>
            <div class="flex items-center justify-between">
              <span class="text-xs text-emerald-400">æŒ‡å— Â· ä¾‹å­ Â· è´´å£«</span>
              <span class="text-emerald-400">â†’</span>
            </div>
          </div>

          <!-- Quick Tips Card -->
          <div class="chapter-card bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-2xl p-6 border border-yellow-500/30">
            <div class="flex items-start justify-between mb-4">
              <div class="w-14 h-14 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-xl flex items-center justify-center text-2xl shadow-lg">
                ğŸ’¡
              </div>
              <span class="bg-yellow-500/30 px-3 py-1 rounded-full text-xs text-yellow-300">å­¦ä¹ è´´å£«</span>
            </div>
            <h3 class="text-xl font-bold mb-3">å­¦ä¹ æŠ€å·§</h3>
            <ul class="text-emerald-200 text-sm space-y-2">
              <li class="flex items-start gap-2"><span class="text-yellow-400">â€¢</span> <span>é©¬æ¥è¯­å‘éŸ³è§„åˆ™ç®€å•ï¼Œæ¥è¿‘æ±‰è¯­æ‹¼éŸ³</span></li>
              <li class="flex items-start gap-2"><span class="text-yellow-400">â€¢</span> <span>å¥å­ç»“æ„ï¼šä¸»è¯­ + è°“è¯­ + å®¾è¯­</span></li>
              <li class="flex items-start gap-2"><span class="text-yellow-400">â€¢</span> <span>ç¤¼è²Œç”¨è¯­å¾ˆé‡è¦ï¼Œå¸¸è¯´"Terima kasih"</span></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Chapter View (Hidden by default) -->
      <div id="chapter-view" class="hidden"></div>

      <!-- Progress View (Hidden by default) -->
      <div id="progress-view" class="hidden">
        <div class="text-center mb-8 fade-in">
          <h2 class="text-3xl font-bold mb-2">å­¦ä¹ è¿›åº¦</h2>
          <p class="text-emerald-300">è·Ÿè¸ªæ‚¨çš„é©¬æ¥è¯­å­¦ä¹ æ—…ç¨‹</p>
        </div>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-emerald-800/50 rounded-2xl p-6 border border-emerald-700/50">
            <h3 class="text-xl font-bold mb-4">ç« èŠ‚å®Œæˆåº¦</h3>
            <div id="progress-chapters" class="space-y-4"></div>
          </div>
          <div class="bg-emerald-800/50 rounded-2xl p-6 border border-emerald-700/50">
            <h3 class="text-xl font-bold mb-4">æ€»ä½“ç»Ÿè®¡</h3>
            <div class="flex items-center justify-center mb-6 relative">
              <svg class="w-40 h-40 transform -rotate-90">
                <circle cx="80" cy="80" r="70" stroke="#064e3b" stroke-width="12" fill="none" />
                <circle id="progress-ring" class="progress-ring" cx="80" cy="80" r="70" stroke="url(#gradient)" stroke-width="12" fill="none" stroke-linecap="round" stroke-dasharray="440" stroke-dashoffset="440" />
                <defs>
                  <lineargradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#fbbf24" />
                    <stop offset="100%" stop-color="#f97316" />
                  </lineargradient>
                </defs>
              </svg>
              <div class="absolute text-center">
                <span id="progress-percent" class="text-4xl font-bold">0%</span>
                <p class="text-emerald-300 text-sm">å®Œæˆ</p>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-4 text-center">
              <div class="bg-emerald-900/50 rounded-xl p-4">
                <p id="words-learned" class="text-2xl font-bold text-yellow-400">0</p>
                <p class="text-emerald-300 text-sm">å·²å­¦è¯æ±‡</p>
              </div>
              <div class="bg-emerald-900/50 rounded-xl p-4">
                <p id="sentences-learned" class="text-2xl font-bold text-orange-400">0</p>
                <p class="text-emerald-300 text-sm">å·²å­¦å¥å‹</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
<!-- Footer -->
<footer class="bg-gray-900 text-white py-12 px-4">
  <div class="max-w-6xl mx-auto">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
      <div>
        <div class="flex items-center gap-2 mb-4">
          <div class="w-10 h-10 rounded-full bg-gradient-to-br from-pink-400 to-red-500 flex items-center justify-center">
            <span class="text-white text-lg font-bold">é©¬</span>
          </div>
          <span class="font-semibold">é©¬æ¥è¯­å¿«é€Ÿå…¥é—¨</span>
        </div>
        <p class="text-gray-400 text-sm">ä¸ºä¸­å›½æ¸¸å®¢ç²¾å¿ƒè®¾è®¡çš„é©¬æ¥è¯­å­¦ä¹ å¹³å°ï¼Œè®©æ‚¨çš„é©¬æ¥è¥¿äºšä¹‹æ—…æ›´åŠ ç²¾å½©ã€‚</p>
      </div>
      <div>
        <h4 class="font-semibold mb-4">å¿«é€Ÿé“¾æ¥</h4>
        <ul class="space-y-2 text-sm text-gray-400">
          <li><button onclick="showHome()" class="hover:text-pink-400 transition-colors">é¦–é¡µ</button></li>
          <li><button onclick="showChapter(1)" class="hover:text-pink-400 transition-colors">å…¨éƒ¨è¯¾ç¨‹</button></li>
          <li><button onclick="showProgress()" class="hover:text-pink-400 transition-colors">å­¦ä¹ è¿›åº¦</button></li>
        </ul>
      </div>
      <div>
        <h4 class="font-semibold mb-4">è”ç³»æˆ‘ä»¬</h4>
        <p class="text-sm text-gray-400">å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬</p>
        <div class="flex gap-3 mt-4">
          <span class="text-2xl">ğŸ‡²ğŸ‡¾</span>
          <span class="text-2xl">â¤ï¸</span>
          <span class="text-2xl">ğŸ‡¨ğŸ‡³</span>
        </div>
      </div>
    </div>
    <div class="border-t border-gray-700 mb-8"></div>
    <div class="text-center text-sm text-gray-500">
      <p>ğŸ‡²ğŸ‡¾ é©¬æ¥è¯­å¿«é€Ÿå…¥é—¨æ•™ç¨‹ Â· Kursus Pantas Bahasa Melayu</p>
      <p class="mt-2 text-emerald-500">ä¸“ä¸ºä¸­å›½æ¸¸å®¢è®¾è®¡ Â· Direka khas untuk pelancong China</p>
      <p>Â© 2024 é©¬æ¥è¯­å¿«é€Ÿå…¥é—¨ | Kursus Pantas Bahasa Melayu</p>
      <p class="mt-1">Selamat Datang ke Malaysia! æ¬¢è¿æ¥åˆ°é©¬æ¥è¥¿äºšï¼</p>
    </div>
  </div>
</footer>
  <script>
    console.log("Malay Language Course - Script starting...");

    // Game state
    const gameState = {};

    // Chapter Data
    const chapters = {
     1: {
    title: "é©¬æ¥è¯­ç®€ä»‹",
    malay: "Pengenalan Bahasa Melayu",
    pinyin: "MÇlÃ¡iyÇ” jiÇnjiÃ¨",
    icon: "ğŸ“š",
    color: "from-amber-400 to-orange-500",
    youtubeLink: "https://youtu.be/LZC8KSC22cI?si=vfrTBvHyI29muxSY",
    intro: "é©¬æ¥è¯­æ˜¯é©¬æ¥è¥¿äºšçš„å›½è¯­ï¼Œä¹Ÿæ˜¯æ–°åŠ å¡ã€æ–‡è±å’Œå°åº¦å°¼è¥¿äºšçš„å®˜æ–¹è¯­è¨€ä¹‹ä¸€ã€‚é©¬æ¥è¯­é‡‡ç”¨ç½—é©¬å­—æ¯ä¹¦å†™ï¼Œå‘éŸ³è§„åˆ™ç®€å•ï¼Œå¯¹ä¸­å›½äººæ¥è¯´ç›¸å¯¹å®¹æ˜“å­¦ä¹ ã€‚",
    sections: [
      {
        title: "1.1 å…ƒéŸ³å‘éŸ³ (Vokal)",
        content: [
          { malay: "A", chinese: "é˜¿", pinyin: "Ä", note: "ç±»ä¼¼æ±‰è¯­æ‹¼éŸ³'a'" },
          { malay: "E", chinese: "å‘ƒ/è¯¶", pinyin: "e/Ã©", note: "æœ‰ä¸¤ç§å‘éŸ³" },
          { malay: "I", chinese: "è¡£", pinyin: "yÄ«", note: "ç±»ä¼¼æ±‰è¯­æ‹¼éŸ³'i'" },
          { malay: "O", chinese: "å“¦", pinyin: "Ã³", note: "ç±»ä¼¼æ±‰è¯­æ‹¼éŸ³'o'" },
          { malay: "U", chinese: "ä¹Œ", pinyin: "wÅ«", note: "ç±»ä¼¼æ±‰è¯­æ‹¼éŸ³'u'" }
        ]
      },
      {
        title: "1.2 åŸºç¡€é—®å€™è¯­",
        content: [
          { 
            malay: "Selamat pagi",
            chinese: "æ—©ä¸Šå¥½",
            pinyin: "sÉ™-la-mat pa-gi",
            note: "æ—©ä¸Šåˆ°ä¸­åˆä½¿ç”¨"
          },
          { malay: "Selamat tengah hari", chinese: "ä¸­åˆå¥½", pinyin: "sÉ™-la-mat tÉ™-ngah ha-ri", note: "ä¸­åˆæ—¶åˆ†ä½¿ç”¨" },
          { malay: "Selamat petang", chinese: "ä¸‹åˆå¥½", pinyin: "sÉ™-la-mat pÉ™-tang", note: "ä¸‹åˆè‡³å‚æ™šä½¿ç”¨" },
          { malay: "Selamat malam", chinese: "æ™šä¸Šå¥½", pinyin: "sÉ™-la-mat ma-lam", note: "æ™šä¸Šä½¿ç”¨" },
          { malay: "Apa khabar?", chinese: "ä½ å¥½å—ï¼Ÿ", pinyin: "a-pa kha-bar", note: "é—®å€™è¯­" },
          { malay: "Khabar baik", chinese: "æˆ‘å¾ˆå¥½", pinyin: "kha-bar ba-ik", note: "å›ç­”'ä½ å¥½å—'" },
          { malay: "Terima kasih", chinese: "è°¢è°¢", pinyin: "tÉ™-ri-ma ka-sih", note: "è¡¨ç¤ºæ„Ÿè°¢" }
        ]
      },
      {
        title: "1.3 ç¤¼è²Œç§°å‘¼æ–¹å¼ (Cara Panggil Orang - SOPAN)",
        content: [
          { 
            malay: "Encik",
            chinese: "å…ˆç”Ÿ",
            pinyin: "en-cik",
            note: "ç”¨äºç§°å‘¼ç”·æ€§ï¼ˆå·²å©šæˆ–æœªå©šï¼‰"
          },
          { 
            malay: "Cik",
            chinese: "å°å§",
            pinyin: "cik",
            note: "ç”¨äºç§°å‘¼æœªå©šå¥³æ€§"
          },
          { 
            malay: "Puan",
            chinese: "å¥³å£«/å¤ªå¤ª",
            pinyin: "pu-an",
            note: "ç”¨äºç§°å‘¼å·²å©šå¥³æ€§"
          },
          { 
            malay: "Abang",
            chinese: "å“¥å“¥",
            pinyin: "a-bang",
            note: "ç§°å‘¼å¹´é•¿ç”·æ€§ï¼ˆäº²åˆ‡/éæ­£å¼ï¼‰"
          },
          { 
            malay: "Kakak",
            chinese: "å§å§",
            pinyin: "ka-kak",
            note: "ç§°å‘¼å¹´é•¿å¥³æ€§ï¼ˆäº²åˆ‡/éæ­£å¼ï¼‰"
          },
          { 
            malay: "Adik",
            chinese: "å¼Ÿå¼Ÿ/å¦¹å¦¹",
            pinyin: "a-dik",
            note: "ç§°å‘¼å¹´å¹¼è€…"
          },
          { 
            malay: "Pak Cik",
            chinese: "å”å”",
            pinyin: "pak cik",
            note: "ç§°å‘¼ä¸­å¹´ç”·æ€§ï¼ˆäº²åˆ‡ï¼‰"
          },
          { 
            malay: "Mak Cik",
            chinese: "é˜¿å§¨",
            pinyin: "mak cik",
            note: "ç§°å‘¼ä¸­å¹´å¥³æ€§ï¼ˆäº²åˆ‡ï¼‰"
          }
        ]
      },
      {
        title: "1.4 SVO æ€ç»´å¯¼å›¾ - åŸºæœ¬å¥å‹ç»“æ„",
        isCustomHTML: true,
        content: `
          <div class="bg-gradient-to-br from-emerald-800/50 to-emerald-900/50 rounded-2xl p-6 border border-emerald-700/50 fade-in">
            <div class="flex items-center gap-3 mb-6">
              <div class="w-12 h-12 bg-emerald-600 rounded-xl flex items-center justify-center text-2xl">ğŸ“</div>
              <div>
                <h3 class="text-xl font-bold">åŸºæœ¬å¥å‹ç»“æ„ (SVO)</h3>
                <p class="poppins text-emerald-300 text-sm">Struktur Ayat Mudah</p>
              </div>
            </div>
            <div class="bg-emerald-800/30 rounded-2xl p-6 border border-emerald-600/30">
              <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-6">
                <div class="bg-emerald-600 rounded-xl px-6 py-4 text-center">
                  <div class="text-2xl font-bold">S</div>
                  <div class="text-sm">ä¸»è¯­ Subjek</div>
                </div>
                <div class="text-3xl">â†’</div>
                <div class="bg-amber-600 rounded-xl px-6 py-4 text-center">
                  <div class="text-2xl font-bold">V</div>
                  <div class="text-sm">åŠ¨è¯ Kata Kerja</div>
                </div>
                <div class="text-3xl">â†’</div>
                <div class="bg-rose-600 rounded-xl px-6 py-4 text-center">
                  <div class="text-2xl font-bold">O</div>
                  <div class="text-sm">å®¾è¯­ Objek</div>
                </div>
              </div>
              <div class="space-y-4">
                <div class="bg-emerald-900/50 rounded-xl p-4">
                  <div class="flex flex-wrap items-center justify-center gap-2 mb-2">
                    <span class="bg-emerald-600 px-3 py-1 rounded poppins">Saya</span>
                    <span class="bg-amber-600 px-3 py-1 rounded poppins">makan</span>
                    <span class="bg-rose-600 px-3 py-1 rounded poppins">nasi</span>
                  </div>
                  <p class="text-center text-emerald-200">æˆ‘ + åƒ + é¥­ = æˆ‘åƒé¥­</p>
                </div>
                <div class="bg-emerald-900/50 rounded-xl p-4">
                  <div class="flex flex-wrap items-center justify-center gap-2 mb-2">
                    <span class="bg-emerald-600 px-3 py-1 rounded poppins">Dia</span>
                    <span class="bg-amber-600 px-3 py-1 rounded poppins">beli</span>
                    <span class="bg-rose-600 px-3 py-1 rounded poppins">buku</span>
                  </div>
                  <p class="text-center text-emerald-200">ä»–/å¥¹ + ä¹° + ä¹¦ = ä»–/å¥¹ä¹°ä¹¦</p>
                </div>
              </div>
            </div>
          </div>
        `
      },
      {
        title: "1.5 åŸºæœ¬å¥å‹ç»“æ„ (SVO) - ä¾‹å¥",
        content: [
          { malay: "Saya makan nasi.", chinese: "æˆ‘åƒé¥­ã€‚", pinyin: "sa-ya ma-kan na-si", note: "ä¸»è¯­ + è°“è¯­ + å®¾è¯­" },
          { malay: "Dia minum air.", chinese: "ä»–/å¥¹å–æ°´ã€‚", pinyin: "di-a mi-num a-ir", note: "Dia = ä»–/å¥¹" },
          { malay: "Kami pergi ke pasar.", chinese: "æˆ‘ä»¬å»å¸‚åœºã€‚", pinyin: "ka-mi pÉ™r-gi kÉ™ pa-sar", note: "Kami = æˆ‘ä»¬" },
          { malay: "Mereka beli buah.", chinese: "ä»–ä»¬ä¹°æ°´æœã€‚", pinyin: "mÉ™-re-ka bÉ™-li bu-ah", note: "Mereka = ä»–ä»¬" },
          { malay: "Awak dari mana?", chinese: "ä½ ä»å“ªé‡Œæ¥ï¼Ÿ", pinyin: "a-wak da-ri ma-na", note: "ç–‘é—®å¥" }
        ]
      }
    ]
      },
      2: {
        title: "è‡ªæˆ‘ä»‹ç»",
        malay: "Pengenalan Diri",
        pinyin: "ZÃ¬wÇ’ jiÃ¨shÃ o",
        icon: "ğŸ‘‹",
        color: "from-pink-400 to-rose-500",
        youtubeLink: "https://youtu.be/qCZauUv033Q?si=7l9CbwvtpLpWVZRz",
        intro: "åœ¨æœ¬å•å…ƒç»“æŸæ—¶ï¼Œæ‚¨å°†èƒ½å¤Ÿï¼šä»‹ç»è‡ªå·±çš„å§“åå’Œå›½å®¶ã€è¯´æ˜æ¥åˆ°é©¬æ¥è¥¿äºšçš„ç›®çš„ï¼Œå¹¶åœ¨ç»“è¯†æ–°æœ‹å‹æ—¶ä½¿ç”¨ç®€å•è€Œç¤¼è²Œçš„å¥å­ã€‚",
        sections: [
          {
            title: "2.1 åŸºæœ¬å¥å­ (Ayat Asas)",
            content: [
              { malay: "Nama saya â€¦", chinese: "æˆ‘å«â€¦â€¦", pinyin: "Na-ma sa-ya â€¦", note: "è‡ªæˆ‘ä»‹ç»å§“å" },
              { malay: "Saya dari China", chinese: "æˆ‘æ¥è‡ªä¸­å›½", pinyin: "Sa-ya da-ree Cha-ee-na", note: "è¡¨è¾¾å›½ç±" },
              { malay: "Saya pelancong", chinese: "æˆ‘æ˜¯æ¸¸å®¢", pinyin: "Sa-ya pe-lan-chong", note: "è¯´æ˜èº«ä»½ä¸ºæ¸¸å®¢" },
              { malay: "Saya pelajar", chinese: "æˆ‘æ˜¯å­¦ç”Ÿ", pinyin: "Sa-ya pe-la-jar", note: "è¯´æ˜èº«ä»½ä¸ºå­¦ç”Ÿ" },
              { malay: "Saya kerja di â€¦", chinese: "æˆ‘åœ¨â€¦â€¦å·¥ä½œ", pinyin: "Sa-ya ker-ja dee â€¦", note: "è¯´æ˜å·¥ä½œåœ°ç‚¹" },
              { malay: "Gembira berkenalan", chinese: "å¾ˆé«˜å…´è®¤è¯†ä½ ", pinyin: "Gem-bee-ra ber-ke-na-lan", note: "ç¤¼è²Œé—®å€™è¯­" }
            ]
          },
          {
            title: "2.2 é‡è¦è¯æ±‡ (Perkataan Penting)",
            content: [
              { malay: "Nama", chinese: "åå­—", pinyin: "Na-ma", note: "ç§°å‘¼ä¸€ä¸ªäººçš„åå­—" },
              { malay: "Negara", chinese: "å›½å®¶", pinyin: "Ne-ga-ra", note: "å›½ç±æˆ–åŸç±å›½" },
              { malay: "Pelancong", chinese: "æ¸¸å®¢", pinyin: "Pe-lan-chong", note: "æ—…æ¸¸è€…çš„èº«ä»½" },
              { malay: "Pelajar", chinese: "å­¦ç”Ÿ", pinyin: "Pe-la-jar", note: "åœ¨å­¦ä¹ çš„äºº" },
              { malay: "Kawan", chinese: "æœ‹å‹", pinyin: "Ka-wan", note: "å‹å¥½çš„å…³ç³»" },
              { malay: "Nama siapa?", chinese: "ä½ å«ä»€ä¹ˆåå­—ï¼Ÿ", pinyin: "Na-ma sya-pa?", note: "è¯¢é—®å¯¹æ–¹å§“å" }
            ]
          },
          {
            title: "2.3 å¯¹è¯ç¤ºä¾‹ (Contoh Dialog) - ä¸é…’åº—å·¥ä½œäººå‘˜ç»“è¯†",
            content: [
              { malay: "æ¸¸å®¢: Selamat pagi.", chinese: "æ¸¸å®¢ï¼šæ—©å®‰ã€‚", pinyin: "Se-la-mat pa-gee", note: "æ¸¸å®¢æ‰“æ‹›å‘¼" },
              { malay: "å·¥ä½œäººå‘˜: Selamat pagi. Nama siapa?", chinese: "å·¥ä½œäººå‘˜ï¼šæ—©å®‰ã€‚ä½ å«ä»€ä¹ˆåå­—ï¼Ÿ", pinyin: "Se-la-mat pa-gee. Na-ma sya-pa?", note: "å·¥ä½œäººå‘˜è¯¢é—®" },
              { malay: "æ¸¸å®¢: Nama saya Li Wei.", chinese: "æ¸¸å®¢ï¼šæˆ‘å«æä¼Ÿã€‚", pinyin: "Na-ma sa-ya Li Wei", note: "ä»‹ç»è‡ªå·±çš„åå­—" },
              { malay: "Saya dari China.", chinese: "æˆ‘æ¥è‡ªä¸­å›½ã€‚", pinyin: "Sa-ya da-ree Cha-ee-na", note: "è¯´æ˜æ¥æºå›½" },
              { malay: "Saya pelancong.", chinese: "æˆ‘æ˜¯æ¸¸å®¢ã€‚", pinyin: "Sa-ya pe-lan-chong", note: "è¯´æ˜æ¥è®¿ç›®çš„" },
              { malay: "å·¥ä½œäººå‘˜: Gembira berkenalan.", chinese: "å·¥ä½œäººå‘˜ï¼šå¾ˆé«˜å…´è®¤è¯†ä½ ã€‚", pinyin: "Gem-bee-ra ber-ke-na-lan", note: "è¡¨è¾¾å‹å¥½" },
              { malay: "æ¸¸å®¢: Gembira berkenalan. Terima kasih.", chinese: "æ¸¸å®¢ï¼šå¾ˆé«˜å…´è®¤è¯†ä½ ã€‚è°¢è°¢ã€‚", pinyin: "Gem-bee-ra ber-ke-na-lan. Ter-ree-ma ka-seh", note: "ç¤¼è²Œå›åº”" }
            ]
          },
          {
            title: "2.4 ç»ƒä¹  (Latihan) - é€‰æ‹©é¢˜",
            isExercise: true,
            content: [
              { 
                question: "å¦‚ä½•ç”¨é©¬æ¥è¯­è¯´ 'æˆ‘å«æä¼Ÿ'ï¼Ÿ", 
                options: ["A) Saya dari Li Wei", "B) Nama saya Li Wei", "C) Li Wei pelancong", "D) Saya Li Wei nama"],
                correct: "B",
                explanation: "Nama saya ... æ˜¯æ­£ç¡®çš„è‡ªæˆ‘ä»‹ç»æ–¹å¼"
              },
              { 
                question: "å¦‚ä½•ç”¨é©¬æ¥è¯­è¯´ 'æˆ‘æ¥è‡ªä¸­å›½'ï¼Ÿ", 
                options: ["A) Saya China dari", "B) China saya dari", "C) Saya dari China", "D) Dari China nama saya"],
                correct: "C",
                explanation: "Saya dari ... ç”¨æ¥è¯´æ˜æ¥è‡ªå“ªä¸ªå›½å®¶"
              },
              { 
                question: "'å¾ˆé«˜å…´è®¤è¯†ä½ ' ç”¨é©¬æ¥è¯­æ€ä¹ˆè¯´ï¼Ÿ", 
                options: ["A) Terima kasih", "B) Selamat pagi", "C) Gembira berkenalan", "D) Apa khabar"],
                correct: "C",
                explanation: "Gembira berkenalan è¡¨ç¤ºå¾ˆé«˜å…´è®¤è¯†å¯¹æ–¹"
              },
              { 
                question: "'Saya pelancong' çš„ä¸­æ–‡æ„æ€æ˜¯ï¼Ÿ", 
                options: ["A) æˆ‘æ˜¯å­¦ç”Ÿ", "B) æˆ‘æ˜¯æ¸¸å®¢", "C) æˆ‘æ˜¯æœ‹å‹", "D) æˆ‘åœ¨å·¥ä½œ"],
                correct: "B",
                explanation: "Pelancong çš„æ„æ€æ˜¯æ¸¸å®¢æˆ–æ—…è¡Œè€…"
              },
              { 
                question: "åœ¨é…’åº—è§é¢æ—¶ï¼Œåº”è¯¥å…ˆè¯´ä»€ä¹ˆï¼Ÿ", 
                options: ["A) Terima kasih", "B) Selamat pagi", "C) Gembira berkenalan", "D) Nama saya"],
                correct: "B",
                explanation: "Selamat pagiï¼ˆæ—©ä¸Šå¥½ï¼‰æ˜¯ç¤¼è²Œçš„é—®å€™å¼€åœºã€‚"
              }
            ]
          },
          {
            title: "2.5 æ–‡åŒ–ç¬”è®° (Nota Budaya)",
            content: [
              { malay: "Senyum", chinese: "å¸¸å¸¦å¾®ç¬‘", pinyin: "Se-nyum", note: "è‡ªæˆ‘ä»‹ç»æ—¶è¯·ä¿æŒå¾®ç¬‘" },
              { malay: "Sebut dengan jelas", chinese: "æ¸…æ™°è¡¨è¾¾", pinyin: "Se-but de-ngan je-las", note: "è¯·æ…¢æ…¢ä¸”æ¸…æ™°åœ°è¯´å‡ºä½ çš„åå­—" },
              { malay: "Ucapan sopan", chinese: "ç¤¼è²Œç»“æŸ", pinyin: "U-cha-pan so-pan", note: "æ¡æ‰‹æˆ–ç»“æŸåï¼Œä¹ æƒ¯æ€§è¯´ 'Gembira berkenalan'" },
              { malay: "Hormat budaya", chinese: "å°Šé‡æ–‡åŒ–", pinyin: "Hor-mat bu-da-ya", note: "é©¬æ¥è¥¿äºšæ˜¯å¤šå…ƒæ–‡åŒ–ç¤¾ä¼šï¼Œå±•ç°å°Šé‡å¾ˆé‡è¦" }
            ]
          }
        ]
      },
      3: {
        title: "æœºåœºä¸äº¤é€š",
        malay: "Di Lapangan Terbang & Pengangkutan",
        pinyin: "JÄ«chÇng yÇ” jiÄotÅng",
        icon: "âœˆï¸",
        color: "from-blue-400 to-indigo-500",
        youtubeLink: "https://youtu.be/ZEHM-UmR6xI?si=6D3oO4uo3TK7bGEW",
        intro: "åœ¨æœ¬å•å…ƒç»“æŸæ—¶ï¼Œæ‚¨å°†èƒ½å¤Ÿï¼šåœ¨ç§»æ°‘æŸœå°å’Œè¡Œææå–å¤„è¿›è¡Œæ²Ÿé€šã€è¯¢é—®æ–¹å‘ã€ä½¿ç”¨äº¤é€šå·¥å…·å¦‚å¾·å£«å’Œ Grabã€ç†è§£æœºåœºçš„åŸºæœ¬æŒ‡ç¤ºã€‚",
        sections: [
          {
            title: "3.1 é‡è¦è¯æ±‡ (Perkataan Penting)",
            content: [
              { malay: "Lapangan terbang", chinese: "æœºåœº", pinyin: "La-pang-an ter-bang", note: "æœºåœº" },
              { malay: "Imigresen", chinese: "ç§»æ°‘å±€", pinyin: "Ee-mee-gre-sen", note: "å…¥å¢ƒå¤„" },
              { malay: "Pasport", chinese: "æŠ¤ç…§", pinyin: "Pas-pot", note: "æ—…è¡Œè¯ä»¶" },
              { malay: "Tiket", chinese: "æœºç¥¨", pinyin: "Tee-ket", note: "ç™»æœºç¥¨" },
              { malay: "Ambil bagasi", chinese: "å–è¡Œæ", pinyin: "Am-beel ba-ga-see", note: "é¢†å–è¡Œæ" },
              { malay: "Pintu", chinese: "ç™»æœºå£", pinyin: "Peen-too", note: "ç™»æœºé—¨" },
              { malay: "Teksi", chinese: "å¾·å£«/å‡ºç§Ÿè½¦", pinyin: "Tek-see", note: "è®¡ç¨‹è½¦" },
              { malay: "Grab", chinese: "ç”µå¬è½¦", pinyin: "G-rab", note: "æ‰“è½¦è½¯ä»¶" },
              { malay: "Stesen", chinese: "è½¦ç«™", pinyin: "S-te-sen", note: "è½¦ç«™" },
              { malay: "Tandas", chinese: "å•æ‰€", pinyin: "Tan-das", note: "æ´—æ‰‹é—´" }
            ]
          },
          {
            title: "3.2 åŸºæœ¬å¥å­ (Ayat Asas)",
            content: [
              { malay: "Di mana imigresen?", chinese: "ç§»æ°‘å±€åœ¨å“ªé‡Œï¼Ÿ", pinyin: "Dee ma-na ee-mee-gre-sen?", note: "è¯¢é—®ç§»æ°‘å±€ä½ç½®" },
              { malay: "Di mana ambil bagasi?", chinese: "è¡Œæåœ¨å“ªé‡Œæ‹¿ï¼Ÿ", pinyin: "Dee ma-na am-beel ba-ga-see?", note: "è¯¢é—®è¡Œæå¤„" },
              { malay: "Saya mahu naik teksi.", chinese: "æˆ‘è¦åå¾·å£«ã€‚", pinyin: "Sa-ya ma-hoo na-eek tek-see.", note: "è¦æ­å‡ºç§Ÿè½¦" },
              { malay: "Saya mahu ke hotel ini.", chinese: "æˆ‘è¦å»è¿™ä¸ªé…’åº—ã€‚", pinyin: "Sa-ya ma-hoo ker ho-tel ee-nee.", note: "è¯´æ˜ç›®çš„åœ°" },
              { malay: "Berapa harga?", chinese: "å¤šå°‘é’±ï¼Ÿ", pinyin: "Ber-ra-pa har-ga?", note: "è¯¢é—®ä»·æ ¼" },
              { malay: "Tolong tunggu.", chinese: "è¯·ç­‰ä¸€ä¸‹ã€‚", pinyin: "To-long toon-goo.", note: "è¯·æ±‚ç­‰å¾…" }
            ]
          },
          {
            title: "3.3 å¯¹è¯ç¤ºä¾‹ (Contoh Dialog) - åœ¨ç§»æ°‘å±€æŸœå°",
            content: [
              { malay: "å®˜å‘˜: Pasport, tolong.", chinese: "å®˜å‘˜ï¼šè¯·ç»™æˆ‘æŠ¤ç…§ã€‚", pinyin: "Pas-pot, to-long", note: "å®˜å‘˜è¦æ±‚æŠ¤ç…§" },
              { malay: "æ¸¸å®¢: Ini pasport saya.", chinese: "æ¸¸å®¢ï¼šè¿™æ˜¯æˆ‘çš„æŠ¤ç…§ã€‚", pinyin: "Ee-nee pas-pot sa-ya", note: "é€’äº¤æŠ¤ç…§" },
              { malay: "å®˜å‘˜: Tujuan datang?", chinese: "å®˜å‘˜ï¼šæ¥è¿™é‡Œçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ", pinyin: "Too-joo-an da-tang?", note: "è¯¢é—®æ¥è®¿ç›®çš„" },
              { malay: "æ¸¸å®¢: Saya pelancong.", chinese: "æ¸¸å®¢ï¼šæˆ‘æ˜¯æ¸¸å®¢ã€‚", pinyin: "Sa-ya pe-lan-chong", note: "è¯´æ˜æ—…æ¸¸ç›®çš„" }
            ]
          },
          {
            title: "3.4 å¯¹è¯ç¤ºä¾‹ (Contoh Dialog) - æ­ä¹˜å¾·å£«/Grab",
            content: [
              { malay: "æ¸¸å®¢: Saya mahu ke hotel ini.", chinese: "æ¸¸å®¢ï¼šæˆ‘è¦å»è¿™ä¸ªé…’åº—ã€‚", pinyin: "Sa-ya ma-hoo ker ho-tel ee-nee", note: "å‘ŠçŸ¥ç›®çš„åœ°" },
              { malay: "å¸æœº: Baik.", chinese: "å¸æœºï¼šå¥½çš„ã€‚", pinyin: "Ba-eek", note: "å¸æœºåŒæ„" },
              { malay: "æ¸¸å®¢: Berapa harga?", chinese: "æ¸¸å®¢ï¼šå¤šå°‘é’±ï¼Ÿ", pinyin: "Ber-ra-pa har-ga?", note: "è¯¢é—®è½¦è´¹" },
              { malay: "å¸æœº: Lima puluh ringgit.", chinese: "å¸æœºï¼šäº”åä»¤å‰ã€‚", pinyin: "Lee-ma poo-loo ring-geet", note: "å‘ŠçŸ¥ä»·æ ¼" },
              { malay: "æ¸¸å®¢: Baik, terima kasih.", chinese: "æ¸¸å®¢ï¼šå¥½çš„ï¼Œè°¢è°¢ã€‚", pinyin: "Ba-eek, ter-ree-ma ka-seh", note: "è¡¨ç¤ºæ„Ÿè°¢" }
            ]
          },
          {
            title: "3.5 äº’åŠ¨æ¸¸æˆ - æœºåœºåœºæ™¯æ¨¡æ‹Ÿ ğŸ®",
            isGame: true,
            content: {
              scenarios: [
                {
                  id: 1,
                  situation: "ä½ åˆšä¸‹é£æœºï¼Œéœ€è¦æ‰¾åˆ°ç§»æ°‘å±€",
                  question: "ä½ åº”è¯¥é—®ä»€ä¹ˆï¼Ÿ",
                  options: [
                    { text: "Di mana imigresen?", isCorrect: true },
                    { text: "Di mana hotel?", isCorrect: false },
                    { text: "Saya mahu makan.", isCorrect: false }
                  ],
                  correctFeedback: "âœ… å¤ªæ£’äº†ï¼ä½ æˆåŠŸæ‰¾åˆ°ç§»æ°‘å±€ï¼",
                  wrongFeedback: "âŒ è¯•è¯•çœ‹å¦ä¸€ä¸ªé€‰é¡¹ã€‚æç¤ºï¼šä½ éœ€è¦æ‰¾'ç§»æ°‘å±€'ã€‚"
                },
                {
                  id: 2,
                  situation: "ç§»æ°‘å±€å®˜å‘˜å‘ä½ è¦æŠ¤ç…§",
                  question: "ä½ åº”è¯¥æ€ä¹ˆå›ç­”ï¼Ÿ",
                  options: [
                    { text: "Ini pasport saya.", isCorrect: true },
                    { text: "Saya pelancong.", isCorrect: false },
                    { text: "Terima kasih.", isCorrect: false }
                  ],
                  correctFeedback: "âœ… å®Œç¾ï¼ä½ é€’äº¤äº†æŠ¤ç…§ï¼",
                  wrongFeedback: "âŒ å®˜å‘˜éœ€è¦çœ‹ä½ çš„æŠ¤ç…§ã€‚æç¤ºï¼šç”¨'Ini pasport saya'"
                },
                {
                  id: 3,
                  situation: "ä½ éœ€è¦æ‹¿è¡Œæ",
                  question: "ä½ åº”è¯¥é—®ä»€ä¹ˆï¼Ÿ",
                  options: [
                    { text: "Di mana ambil bagasi?", isCorrect: true },
                    { text: "Di mana tandas?", isCorrect: false },
                    { text: "Berapa harga?", isCorrect: false }
                  ],
                  correctFeedback: "âœ… å¾ˆå¥½ï¼ä½ æ‰¾åˆ°äº†è¡Œææå–å¤„ï¼",
                  wrongFeedback: "âŒ ä½ éœ€è¦æ‰¾è¡Œæå¤„ã€‚æç¤ºï¼š'bagasi'æ˜¯è¡Œæçš„æ„æ€"
                },
                {
                  id: 4,
                  situation: "ä½ æƒ³æ­å‡ºç§Ÿè½¦å»é…’åº—",
                  question: "ä½ åº”è¯¥å¯¹å¸æœºè¯´ä»€ä¹ˆï¼Ÿ",
                  options: [
                    { text: "Saya mahu ke hotel ini.", isCorrect: true },
                    { text: "Di mana hotel?", isCorrect: false },
                    { text: "Tolong tunggu.", isCorrect: false }
                  ],
                  correctFeedback: "âœ… å¤ªå¥½äº†ï¼å¸æœºçŸ¥é“ä½ è¦å»å“ªé‡Œäº†ï¼",
                  wrongFeedback: "âŒ ä½ éœ€è¦å‘Šè¯‰å¸æœºç›®çš„åœ°ã€‚æç¤ºï¼šç”¨'Saya mahu ke...'"
                },
                {
                  id: 5,
                  situation: "ä½ æƒ³çŸ¥é“è½¦è´¹",
                  question: "ä½ åº”è¯¥é—®ä»€ä¹ˆï¼Ÿ",
                  options: [
                    { text: "Berapa harga?", isCorrect: true },
                    { text: "Terima kasih.", isCorrect: false },
                    { text: "Tolong tunggu.", isCorrect: false }
                  ],
                  correctFeedback: "âœ… å®Œç¾ï¼å¸æœºå‘Šè¯‰ä½ è½¦è´¹æ˜¯50ä»¤å‰ï¼ä½ é¡ºåˆ©å®Œæˆäº†æœºåœºä¹‹æ—…ï¼ğŸ‰",
                  wrongFeedback: "âŒ ä½ æƒ³çŸ¥é“ä»·æ ¼ã€‚æç¤ºï¼šè¯´'Berapa harga?'"
                }
              ]
            }
          },
          {
            title: "3.6 æ–‡åŒ–ç¬”è®° (Nota Budaya)",
            content: [
              { malay: "Guna dua tangan", chinese: "åŒæ‰‹é€’äº¤", pinyin: "Gu-na du-a ta-ngan", note: "é€’äº¤æŠ¤ç…§æ—¶ä½¿ç”¨åŒæ‰‹ï¼Œä»¥ç¤ºå°Šé‡" },
              { malay: "Ucapan sopan", chinese: "ç¤¼è²Œç”¨è¯­", pinyin: "U-cha-pan so-pan", note: "åœ¨è¯·æ±‚å¸®åŠ©å‰å…ˆè¯´'Tolong'ï¼ˆè¯·/å¸®åŠ©ï¼‰" },
              { malay: "Berterima kasih", chinese: "æ„Ÿæ©", pinyin: "Ber-ter-ree-ma ka-seh", note: "å¾—åˆ°å¸®åŠ©åï¼Œä¸€å®šè¦è¯´'Terima kasih'ï¼ˆè°¢è°¢ï¼‰" },
              { malay: "Bersikap tenang", chinese: "ä¿æŒå†·é™", pinyin: "Ber-see-kap te-nam", note: "åœ¨æœºåœºä¿æŒå†·é™å’Œè€å¿ƒï¼Œé©¬æ¥è¥¿äºšäººå¾ˆå‹å–„" }
            ]
          }
        ]
      },
      4: {
        title: "é…’åº—",
        malay: "Di Hotel",
        pinyin: "JiÇ”diÃ n",
        icon: "ğŸ¨",
        color: "from-purple-400 to-violet-500",
        youtubeLink: "https://youtu.be/BB0aPdHdlYQ?si=QmBsRhJ0ZmY7mG2E",
        intro: "åœ¨æœ¬å•å…ƒç»“æŸæ—¶ï¼Œå‚ä¸è€…å°†èƒ½å¤Ÿï¼šåŠç†å…¥ä½ (Check-in) å’Œé€€æˆ¿ (Check-out) æ‰‹ç»­ã€è¯¢é—®æˆ¿é—´åŠé…’åº—è®¾æ–½ã€ç¤¼è²Œåœ°æŠ•è¯‰åŸºæœ¬é—®é¢˜ã€‚",
        sections: [
          {
            title: "4.1 é‡è¦è¯æ±‡ (PERKATAAN PENTING)",
            content: [
              { malay: "Hotel", chinese: "é…’åº—", pinyin: "Ho-tel", note: "é…’åº—" },
              { malay: "Kaunter", chinese: "æŸœå°", pinyin: "Ka-oon-ter", note: "æŸœå°" },
              { malay: "Tempahan", chinese: "é¢„è®¢", pinyin: "Tem-pa-han", note: "é¢„è®¢" },
              { malay: "Bilik", chinese: "æˆ¿é—´", pinyin: "Bee-lek", note: "æˆ¿é—´" },
              { malay: "Kunci", chinese: "é’¥åŒ™", pinyin: "Koon-chee", note: "é’¥åŒ™" },
              { malay: "WiFi", chinese: "æ— çº¿ç½‘ç»œ", pinyin: "Wa-ee Fa-ee", note: "æ— çº¿ç½‘ç»œ" },
              { malay: "Tandas", chinese: "å•æ‰€", pinyin: "Tan-das", note: "å•æ‰€" },
              { malay: "Air panas", chinese: "çƒ­æ°´", pinyin: "Ah-yer pa-nas", note: "çƒ­æ°´" },
              { malay: "Rosak", chinese: "åäº†", pinyin: "Ro-sak", note: "åäº†" },
              { malay: "Tolong baiki", chinese: "è¯·ä¿®ç†", pinyin: "To-long ba-ee-kee", note: "è¯·ä¿®ç†" }
            ]
          },
          {
            title: "4.2 åŸºæœ¬å¥å­ (AYAT ASAS)",
            content: [
              { malay: "Saya mahu check in.", chinese: "æˆ‘è¦åŠç†å…¥ä½ã€‚", pinyin: "Sa-ya ma-hoo check in.", note: "åŠç†å…¥ä½" },
              { malay: "Saya sudah tempah.", chinese: "æˆ‘å·²ç»é¢„è®¢äº†ã€‚", pinyin: "Sa-ya soo-dah tem-pa-han.", note: "å·²é¢„è®¢" },
              { malay: "Nama saya â€¦", chinese: "æˆ‘å«â€¦â€¦", pinyin: "Na-ma sa-ya â€¦", note: "è‡ªæˆ‘ä»‹ç»" },
              { malay: "Boleh saya dapat kunci?", chinese: "å¯ä»¥ç»™æˆ‘é’¥åŒ™å—ï¼Ÿ", pinyin: "Bo-leh sa-ya da-pat koon-chee?", note: "è¦é’¥åŒ™" },
              { malay: "WiFi ada?", chinese: "æœ‰æ— çº¿ç½‘ç»œå—ï¼Ÿ", pinyin: "Wa-ee Fa-ee ah-da?", note: "è¯¢é—®WiFi" },
              { malay: "Air panas tidak ada.", chinese: "æ²¡æœ‰çƒ­æ°´ã€‚", pinyin: "Ah-yer pa-nas tee-dak ah-da.", note: "æ— çƒ­æ°´" },
              { malay: "Tolong baiki.", chinese: "è¯·ä¿®ç†ã€‚", pinyin: "To-long ba-ee-kee.", note: "è¯·æ±‚ä¿®ç†" }
            ]
          },
          {
            title: "4.3 å¯¹è¯ç¤ºä¾‹ (CONTOH DIALOG) - åœ¨é…’åº—æŸœå°åŠç†å…¥ä½",
            content: [
              { malay: "å·¥ä½œäººå‘˜: Selamat datang. Boleh saya bantu?", chinese: "å·¥ä½œäººå‘˜ï¼šæ¬¢è¿ã€‚è¯·é—®éœ€è¦å¸®å¿™å—ï¼Ÿ", pinyin: "Se-la-mat da-tang. Bo-leh sa-ya ban-too?", note: "é—®å€™" },
              { malay: "æ¸¸å®¢: Saya mahu check in. Saya sudah tempah.", chinese: "æ¸¸å®¢ï¼šæˆ‘è¦åŠç†å…¥ä½ã€‚æˆ‘å·²ç»é¢„è®¢äº†ã€‚", pinyin: "Sa-ya ma-hoo check in. Sa-ya soo-dah tem-pa-han.", note: "è¯·æ±‚å…¥ä½" },
              { malay: "å·¥ä½œäººå‘˜: Nama siapa?", chinese: "å·¥ä½œäººå‘˜ï¼šè¯·é—®åå­—ï¼Ÿ", pinyin: "Na-ma sya-pa?", note: "è¯¢é—®åå­—" },
              { malay: "æ¸¸å®¢: Nama saya Li Wei.", chinese: "æ¸¸å®¢ï¼šæˆ‘å«æä¼Ÿã€‚", pinyin: "Na-ma sa-ya Li Wei.", note: "å›ç­”åå­—" },
              { malay: "å·¥ä½œäººå‘˜: Ini kunci bilik. WiFi ada di bilik.", chinese: "å·¥ä½œäººå‘˜ï¼šè¿™æ˜¯æˆ¿é—´é’¥åŒ™ã€‚æˆ¿é—´æœ‰æ— çº¿ç½‘ç»œã€‚", pinyin: "Ee-nee koon-chee bee-lek. Wa-ee Fa-ee ah-da dee bee-lek.", note: "æä¾›é’¥åŒ™å’Œä¿¡æ¯" },
              { malay: "æ¸¸å®¢: Terima kasih.", chinese: "æ¸¸å®¢ï¼šè°¢è°¢ã€‚", pinyin: "Ter-ree-ma ka-seh", note: "æ„Ÿè°¢" }
            ]
          },
          {
            title: "4.4 å¯¹è¯ç¤ºä¾‹ (CONTOH DIALOG) - ç®€å•æŠ•è¯‰",
            content: [
              { malay: "æ¸¸å®¢: Maaf, air panas tidak ada.", chinese: "æ¸¸å®¢ï¼šä¸å¥½æ„æ€ï¼Œæ²¡æœ‰çƒ­æ°´ã€‚", pinyin: "Ma-af, ah-yer pa-nas tee-dak ah-da.", note: "æŠ•è¯‰é—®é¢˜" },
              { malay: "å·¥ä½œäººå‘˜: Baik, kami akan baiki.", chinese: "å·¥ä½œäººå‘˜ï¼šå¥½çš„ï¼Œæˆ‘ä»¬ä¼šä¿®ç†ã€‚", pinyin: "Ba-eek, ka-mee a-kan ba-ee-kee.", note: "å›åº”æŠ•è¯‰" },
              { malay: "æ¸¸å®¢: Terima kasih.", chinese: "æ¸¸å®¢ï¼šè°¢è°¢ã€‚", pinyin: "Ter-ree-ma ka-seh", note: "æ„Ÿè°¢" }
            ]
          },
          {
            title: "4.5 ç»ƒä¹  (LATIHAN) - é…å¯¹æ¸¸æˆ ğŸ´",
            isGame: true,
            gameType: "matching",
            content: {
              pairs: [
                { id: 1, malay: "Hotel", chinese: "é…’åº—", pinyin: "Ho-tel" },
                { id: 2, malay: "Kaunter", chinese: "æŸœå°", pinyin: "Ka-oon-ter" },
                { id: 3, malay: "Tempahan", chinese: "é¢„è®¢", pinyin: "Tem-pa-han" },
                { id: 4, malay: "Bilik", chinese: "æˆ¿é—´", pinyin: "Bee-lek" },
                { id: 5, malay: "Kunci", chinese: "é’¥åŒ™", pinyin: "Koon-chee" },
                { id: 6, malay: "WiFi", chinese: "æ— çº¿ç½‘ç»œ", pinyin: "Wa-ee Fa-ee" },
                { id: 7, malay: "Air panas", chinese: "çƒ­æ°´", pinyin: "Ah-yer pa-nas" },
                { id: 8, malay: "Rosak", chinese: "åäº†", pinyin: "Ro-sak" }
              ]
            }
          },
          {
            title: "4.6 æ–‡åŒ–ç¬”è®° (NOTA BUDAYA)",
            content: [
              { malay: "Berbaris dengan teratur", chinese: "æœ‰åºæ’é˜Ÿ", pinyin: "Ber-ba-ris de-ngan ter-a-tur", note: "åœ¨æŸœå°å‰è¯·æ–‡æ˜æœ‰åºåœ°æ’é˜Ÿ" },
              { malay: "Aduan sopan", chinese: "ç¤¼è²ŒæŠ•è¯‰", pinyin: "A-duan so-pan", note: "åœ¨æå‡ºä»»ä½•æŠ•è¯‰æˆ–é—®é¢˜å‰ï¼Œå…ˆè¯´ä¸€å¥ 'Maaf'" },
              { malay: "Jaga kunci", chinese: "ä¿ç®¡é’¥åŒ™", pinyin: "Ja-ga kun-ci", note: "è¯·å¦¥å–„ä¿ç®¡å¥½æ‚¨çš„æˆ¿é—´é’¥åŒ™" },
              { malay: "Hormat waktu senyap", chinese: "å°Šé‡å®‰é™æ—¶é—´", pinyin: "Hor-mat wa-ktu se-nyap", note: "æ™šä¸Š10ç‚¹åè¯·ä¿æŒå®‰é™ï¼Œå°Šé‡å…¶ä»–ä½å®¢" }
            ]
          }
        ]
      },
      5: {
        title: "é¤å…ä¸ç¾é£Ÿ",
        malay: "Di Restoran & Makanan",
        pinyin: "CÄntÄ«ng yÇ” mÄ›ishÃ­",
        icon: "ğŸœ",
        color: "from-red-400 to-orange-500",
        youtubeLink: "https://youtu.be/gL5OQQ8kL3c?si=0gi1toJYvVlFsEXU",
        intro: "åœ¨æœ¬å•å…ƒç»“æŸæ—¶ï¼Œå‚ä¸è€…å°†èƒ½å¤Ÿï¼šç‚¹é¤å’Œç‚¹é¥®æ–™ã€è¡¨è¾¾è¾£åº¦ã€ç”œåº¦å’Œçƒ­åº¦ã€è¯¢é—®ä»·æ ¼å¹¶è¦æ±‚æ‰“åŒ…ã€åœ¨é¤å…ä½¿ç”¨ç¤¼è²Œç”¨è¯­ã€‚",
        sections: [
          {
            title: "5.1 é‡è¦è¯æ±‡ (PERKATAAN PENTING)",
            content: [
              { malay: "Restoran", chinese: "é¤å…", pinyin: "Res-to-ran", note: "é¤å…" },
              { malay: "Menu", chinese: "èœå•", pinyin: "Me-nu", note: "èœå•" },
              { malay: "Nasi", chinese: "ç±³é¥­", pinyin: "Na-see", note: "ç±³é¥­" },
              { malay: "Ayam", chinese: "é¸¡è‚‰", pinyin: "Ah-yam", note: "é¸¡è‚‰" },
              { malay: "Air", chinese: "æ°´/é¥®æ–™", pinyin: "Ah-yer", note: "æ°´/é¥®æ–™" },
              { malay: "Pedas", chinese: "è¾£", pinyin: "Pe-das", note: "è¾£" },
              { malay: "Manis", chinese: "ç”œ", pinyin: "Ma-nees", note: "ç”œ" },
              { malay: "Panas", chinese: "çƒ­", pinyin: "Pa-nas", note: "çƒ­" },
              { malay: "Bungkus", chinese: "æ‰“åŒ…", pinyin: "Boong-koos", note: "æ‰“åŒ…" },
              { malay: "Bil", chinese: "è´¦å•", pinyin: "Beel", note: "è´¦å•" }
            ]
          },
          {
            title: "5.2 åŸºæœ¬å¥å­ (AYAT ASAS)",
            content: [
              { malay: "Saya mahu ini.", chinese: "æˆ‘è¦è¿™ä¸ªã€‚", pinyin: "Sa-ya ma-hoo ee-nee.", note: "ç‚¹è¿™ä¸ª" },
              { malay: "Saya mahu nasi ayam.", chinese: "æˆ‘è¦é¸¡é¥­ã€‚", pinyin: "Sa-ya ma-hoo na-see ah-yam.", note: "ç‚¹é¸¡é¥­" },
              { malay: "Tidak mahu pedas.", chinese: "ä¸è¦è¾£ã€‚", pinyin: "Tee-dak ma-hoo pe-das.", note: "ä¸è¦è¾£" },
              { malay: "Kurang manis.", chinese: "å°‘ç”œã€‚", pinyin: "Koo-rang ma-nees.", note: "å°‘ç”œ" },
              { malay: "Boleh bungkus?", chinese: "å¯ä»¥æ‰“åŒ…å—ï¼Ÿ", pinyin: "Bo-leh boong-koos?", note: "é—®æ‰“åŒ…" },
              { malay: "Berapa harga?", chinese: "å¤šå°‘é’±ï¼Ÿ", pinyin: "Ber-ra-pa har-ga?", note: "é—®ä»·æ ¼" },
              { malay: "Minta bil.", chinese: "è¯·ç»™æˆ‘è´¦å•ã€‚", pinyin: "Meen-ta beel.", note: "è¦è´¦å•" }
            ]
          },
          {
            title: "5.3 å¯¹è¯ç¤ºä¾‹ (CONTOH DIALOG) - åœºæ™¯ 1ï¼šç‚¹é¤",
            content: [
              { malay: "æœåŠ¡å‘˜: Selamat datang.", chinese: "æœåŠ¡å‘˜ï¼šæ¬¢è¿å…‰ä¸´ã€‚", pinyin: "Se-la-mat da-tang", note: "æ¬¢è¿" },
              { malay: "æ¸¸å®¢: Boleh saya lihat menu?", chinese: "æ¸¸å®¢ï¼šå¯ä»¥çœ‹èœå•å—ï¼Ÿ", pinyin: "Bo-leh sa-ya lee-hat me-nu?", note: "è¦èœå•" },
              { malay: "æœåŠ¡å‘˜: Ini menu.", chinese: "æœåŠ¡å‘˜ï¼šè¿™æ˜¯èœå•ã€‚", pinyin: "Ee-nee me-nu", note: "ç»™èœå•" },
              { malay: "æ¸¸å®¢: Saya mahu nasi ayam. Tidak mahu pedas.", chinese: "æ¸¸å®¢ï¼šæˆ‘è¦é¸¡é¥­ã€‚ä¸è¦è¾£ã€‚", pinyin: "Sa-ya ma-hoo na-see ah-yam. Tee-dak ma-hoo pe-das.", note: "ç‚¹é¤" },
              { malay: "æœåŠ¡å‘˜: Minum apa?", chinese: "æœåŠ¡å‘˜ï¼šå–ä»€ä¹ˆï¼Ÿ", pinyin: "Mee-noom a-pa?", note: "é—®é¥®æ–™" },
              { malay: "æ¸¸å®¢: Air kosong.", chinese: "æ¸¸å®¢ï¼šç™½å¼€æ°´ã€‚", pinyin: "Ah-yer ko-song", note: "è¦ç™½å¼€æ°´" },
              { malay: "æœåŠ¡å‘˜: Baik.", chinese: "æœåŠ¡å‘˜ï¼šå¥½çš„ã€‚", pinyin: "Ba-eek", note: "ç¡®è®¤" }
            ]
          },
          {
            title: "5.4 å¯¹è¯ç¤ºä¾‹ (CONTOH DIALOG) - åœºæ™¯ 2ï¼šæ‰“åŒ…ä¸ä»˜æ¬¾",
            content: [
              { malay: "æ¸¸å®¢: Boleh bungkus?", chinese: "æ¸¸å®¢ï¼šå¯ä»¥æ‰“åŒ…å—ï¼Ÿ", pinyin: "Bo-leh boong-koos?", note: "é—®æ‰“åŒ…" },
              { malay: "æœåŠ¡å‘˜: Boleh.", chinese: "æœåŠ¡å‘˜ï¼šå¯ä»¥ã€‚", pinyin: "Bo-leh", note: "åŒæ„" },
              { malay: "æ¸¸å®¢: Minta bil.", chinese: "æ¸¸å®¢ï¼šè¯·ç»™æˆ‘è´¦å•ã€‚", pinyin: "Meen-ta beel", note: "è¦è´¦å•" },
              { malay: "æœåŠ¡å‘˜: Ini bil.", chinese: "æœåŠ¡å‘˜ï¼šè¿™æ˜¯è´¦å•ã€‚", pinyin: "Ee-nee beel", note: "ç»™è´¦å•" },
              { malay: "æ¸¸å®¢: Terima kasih.", chinese: "æ¸¸å®¢ï¼šè°¢è°¢ã€‚", pinyin: "Ter-ree-ma ka-seh", note: "æ„Ÿè°¢" }
            ]
          },
          {
            title: "5.5 ç»ƒä¹  (LATIHAN) - è¿ä¸€è¿",
            isExercise: true,
            content: [
              { 
                question: "æˆ‘è¦è¿™ä¸ª", 
                options: ["A) Boleh bungkus", "B) Saya mahu ini", "C) Tidak mahu pedas", "D) Berapa harga"],
                correct: "B",
                explanation: "'Saya mahu ini' çš„æ„æ€æ˜¯'æˆ‘è¦è¿™ä¸ª'"
              },
              { 
                question: "ä¸è¦è¾£", 
                options: ["A) Kurang manis", "B) Saya mahu ini", "C) Tidak mahu pedas", "D) Minta bil"],
                correct: "C",
                explanation: "'Tidak mahu pedas' çš„æ„æ€æ˜¯'ä¸è¦è¾£'"
              },
              { 
                question: "å¤šå°‘é’±", 
                options: ["A) Minta bil", "B) Boleh bungkus", "C) Saya mahu ini", "D) Berapa harga"],
                correct: "D",
                explanation: "'Berapa harga' ç”¨æ¥è¯¢é—®'å¤šå°‘é’±'"
              },
              { 
                question: "å¯ä»¥æ‰“åŒ…å—", 
                options: ["A) Boleh bungkus", "B) Tidak mahu pedas", "C) Minta bil", "D) Kurang manis"],
                correct: "A",
                explanation: "'Boleh bungkus' çš„æ„æ€æ˜¯'å¯ä»¥æ‰“åŒ…å—'"
              },
              { 
                question: "è¯·ç»™æˆ‘è´¦å•", 
                options: ["A) Berapa harga", "B) Minta bil", "C) Saya mahu ini", "D) Boleh bungkus"],
                correct: "B",
                explanation: "'Minta bil' ç”¨æ¥è¦æ±‚è´¦å•"
              }
            ]
          },
          {
            title: "5.6 æ–‡åŒ–ç¬”è®° (NOTA BUDAYA)",
            content: [
              { malay: "Tunggu pelayan", chinese: "ç­‰å¾…ç‚¹é¤", pinyin: "Toong-goo pe-la-yan", note: "åœ¨ç‚¹é¤å‰å…ˆç­‰å¾…æœåŠ¡å‘˜å‡†å¤‡å¥½" },
              { malay: "Ucapan sopan", chinese: "ç¤¼è²Œç”¨è¯­", pinyin: "Oo-cha-pan so-pan", note: "ä¹ æƒ¯ä½¿ç”¨ 'Tolong' (è¯·) å’Œ 'Terima kasih' (è°¢è°¢)" },
              { malay: "Bayar di kaunter", chinese: "ä»˜æ¬¾æ–¹å¼", pinyin: "Ba-yar dee ka-oon-ter", note: "åœ¨æŸäº›é¤å…ï¼Œæ‚¨éœ€è¦è‡ªå·±æ‹¿ç€è´¦å•å»æŸœå°ä»˜æ¬¾" },
              { malay: "Makanan halal", chinese: "æ¸…çœŸé£Ÿå“", pinyin: "Ma-ka-nan ha-lal", note: "é©¬æ¥è¥¿äºšå¤§éƒ¨åˆ†é¤å…æä¾›æ¸…çœŸé£Ÿå“ï¼Œå°Šé‡å½“åœ°é¥®é£Ÿæ–‡åŒ–" }
            ]
          }
        ]
      },
      6: {
        title: "è´­ç‰©ä¸è®¨ä»·è¿˜ä»·",
        malay: "Membeli-belah",
        pinyin: "GÃ²uwÃ¹ yÇ” tÇojiÃ huÃ¡njiÃ ",
        icon: "ğŸ›ï¸",
        color: "from-cyan-400 to-blue-500",
        youtubeLink: "https://youtu.be/-Bj0pog16_E?si=bqP0JkG-gIZgRE10",
        intro: "åœ¨æœ¬å•å…ƒç»“æŸæ—¶ï¼Œå‚ä¸è€…å°†èƒ½å¤Ÿï¼šè¯¢é—®å•†å“ä»·æ ¼ã€è¡¨è¾¾å°ºç å’Œé¢œè‰²ã€ç¤¼è²Œåœ°è®¨ä»·è¿˜ä»·ã€è¿›è¡Œä»˜æ¬¾ã€‚",
        sections: [
          {
            title: "6.1 é‡è¦è¯æ±‡ (PERKATAAN PENTING)",
            content: [
              { malay: "Kedai", chinese: "å•†åº—", pinyin: "Ke-da-ee", note: "å•†åº—" },
              { malay: "Harga", chinese: "ä»·æ ¼", pinyin: "Har-ga", note: "ä»·æ ¼" },
              { malay: "Murah", chinese: "ä¾¿å®œ", pinyin: "Moo-rah", note: "ä¾¿å®œ" },
              { malay: "Mahal", chinese: "è´µ", pinyin: "Ma-hal", note: "è´µ" },
              { malay: "Saiz", chinese: "å°ºç ", pinyin: "Sa-eez", note: "å°ºç " },
              { malay: "Warna", chinese: "é¢œè‰²", pinyin: "War-na", note: "é¢œè‰²" },
              { malay: "Merah", chinese: "çº¢è‰²", pinyin: "Me-rah", note: "çº¢è‰²" },
              { malay: "Hitam", chinese: "é»‘è‰²", pinyin: "Hee-tam", note: "é»‘è‰²" },
              { malay: "Putih", chinese: "ç™½è‰²", pinyin: "Poo-teh", note: "ç™½è‰²" },
              { malay: "Biru", chinese: "è“è‰²", pinyin: "Bee-roo", note: "è“è‰²" },
              { malay: "Hijau", chinese: "ç»¿è‰²", pinyin: "Hee-jow", note: "ç»¿è‰²" }
            ]
          },
          {
            title: "6.2 åŸºæœ¬å¥å­ (AYAT ASAS)",
            content: [
              { malay: "Ini berapa harga?", chinese: "è¿™ä¸ªå¤šå°‘é’±ï¼Ÿ", pinyin: "Ee-nee ber-ra-pa har-ga?", note: "é—®ä»·æ ¼" },
              { malay: "Mahal.", chinese: "å¾ˆè´µã€‚", pinyin: "Ma-hal.", note: "è¯´è´µ" },
              { malay: "Murah sikit boleh?", chinese: "å¯ä»¥ä¾¿å®œä¸€ç‚¹å—ï¼Ÿ", pinyin: "Moo-rah see-keet bo-leh?", note: "è®¨ä»·è¿˜ä»·" },
              { malay: "Saya mahu saiz M.", chinese: "æˆ‘è¦ M å·ã€‚", pinyin: "Sa-ya ma-hoo sa-eez M.", note: "è¦å°ºç " },
              { malay: "Ada warna lain?", chinese: "æœ‰åˆ«çš„é¢œè‰²å—ï¼Ÿ", pinyin: "Ah-da war-na la-een?", note: "é—®é¢œè‰²" },
              { malay: "Saya mahu beli ini.", chinese: "æˆ‘è¦ä¹°è¿™ä¸ªã€‚", pinyin: "Sa-ya ma-hoo be-lee ee-nee.", note: "è´­ä¹°" }
            ]
          },
          {
            title: "6.3 å¯¹è¯ç¤ºä¾‹ (CONTOH DIALOG) - åœ¨æœè£…åº—",
            content: [
              { malay: "æ¸¸å®¢: Ini berapa harga?", chinese: "æ¸¸å®¢ï¼šè¿™ä¸ªå¤šå°‘é’±ï¼Ÿ", pinyin: "Ee-nee ber-ra-pa har-ga?", note: "è¯¢é—®ä»·æ ¼" },
              { malay: "å•†å®¶: Seratus ringgit.", chinese: "å•†å®¶ï¼šä¸€ç™¾ä»¤å‰ã€‚", pinyin: "Se-ra-toos ring-geet", note: "æŠ¥ä»·" },
              { malay: "æ¸¸å®¢: Mahal. Murah sikit boleh?", chinese: "æ¸¸å®¢ï¼šå¾ˆè´µï¼Œå¯ä»¥ä¾¿å®œä¸€ç‚¹å—ï¼Ÿ", pinyin: "Ma-hal. Moo-rah see-keet bo-leh?", note: "è¿˜ä»·" },
              { malay: "å•†å®¶: Baik, sembilan puluh ringgit.", chinese: "å•†å®¶ï¼šå¥½ï¼Œä¹åä»¤å‰ã€‚", pinyin: "Ba-eek, sem-bee-lan poo-loo ring-geet", note: "é™ä»·" },
              { malay: "æ¸¸å®¢: Saya mahu saiz M, warna hitam.", chinese: "æ¸¸å®¢ï¼šæˆ‘è¦ M å·ï¼Œé»‘è‰²ã€‚", pinyin: "Sa-ya ma-hoo sa-eez M, war-na hee-tam", note: "æŒ‡å®šå°ºç é¢œè‰²" },
              { malay: "å•†å®¶: Baik.", chinese: "å•†å®¶ï¼šå¥½çš„ã€‚", pinyin: "Ba-eek", note: "ç¡®è®¤" }
            ]
          },
          {
            title: "6.4 äº’åŠ¨æ¸¸æˆ - è™šæ‹Ÿç²¾å“åº— ğŸ›ï¸",
            isGame: true,
            gameType: "boutique",
            content: {
              items: [
                { 
                  id: 1, 
                  type: "shirt", 
                  color: "merah", 
                  colorChinese: "çº¢è‰²",
                  colorHex: "#EF4444",
                  size: "M", 
                  emoji: "ğŸ‘•",
                  question: "é¡¾å®¢æƒ³è¦ä»€ä¹ˆï¼Ÿ",
                  options: [
                    { text: "Warna hitam, saiz L", chinese: "é»‘è‰²ï¼ŒLå·", correct: false, wrongWord: "Hitam" },
                    { text: "Warna merah, saiz M", chinese: "çº¢è‰²ï¼ŒMå·", correct: true },
                    { text: "Warna putih, saiz S", chinese: "ç™½è‰²ï¼ŒSå·", correct: false, wrongWord: "Putih" }
                  ]
                },
                { 
                  id: 2, 
                  type: "dress", 
                  color: "biru", 
                  colorChinese: "è“è‰²",
                  colorHex: "#3B82F6",
                  size: "L", 
                  emoji: "ğŸ‘—",
                  question: "è¿™ä½é¡¾å®¢éœ€è¦ä»€ä¹ˆï¼Ÿ",
                  options: [
                    { text: "Warna biru, saiz L", chinese: "è“è‰²ï¼ŒLå·", correct: true },
                    { text: "Warna merah, saiz M", chinese: "çº¢è‰²ï¼ŒMå·", correct: false, wrongWord: "Merah" },
                    { text: "Warna biru, saiz S", chinese: "è“è‰²ï¼ŒSå·", correct: false, wrongWord: "S" }
                  ]
                },
                { 
                  id: 3, 
                  type: "pants", 
                  color: "hitam", 
                  colorChinese: "é»‘è‰²",
                  colorHex: "#1F2937",
                  size: "S", 
                  emoji: "ğŸ‘–",
                  question: "è¯·é€‰æ‹©æ­£ç¡®çš„å•†å“æè¿°",
                  options: [
                    { text: "Warna hitam, saiz M", chinese: "é»‘è‰²ï¼ŒMå·", correct: false, wrongWord: "M" },
                    { text: "Warna putih, saiz S", chinese: "ç™½è‰²ï¼ŒSå·", correct: false, wrongWord: "Putih" },
                    { text: "Warna hitam, saiz S", chinese: "é»‘è‰²ï¼ŒSå·", correct: true }
                  ]
                },
                { 
                  id: 4, 
                  type: "jacket", 
                  color: "hijau", 
                  colorChinese: "ç»¿è‰²",
                  colorHex: "#10B981",
                  size: "M", 
                  emoji: "ğŸ§¥",
                  question: "é¡¾å®¢è¦ä¹°ä»€ä¹ˆï¼Ÿ",
                  options: [
                    { text: "Warna hijau, saiz M", chinese: "ç»¿è‰²ï¼ŒMå·", correct: true },
                    { text: "Warna biru, saiz M", chinese: "è“è‰²ï¼ŒMå·", correct: false, wrongWord: "Biru" },
                    { text: "Warna hijau, saiz L", chinese: "ç»¿è‰²ï¼ŒLå·", correct: false, wrongWord: "L" }
                  ]
                },
                { 
                  id: 5, 
                  type: "shoes", 
                  color: "putih", 
                  colorChinese: "ç™½è‰²",
                  colorHex: "#F3F4F6",
                  size: "L", 
                  emoji: "ğŸ‘Ÿ",
                  question: "è¿™æ˜¯ä»€ä¹ˆå•†å“ï¼Ÿ",
                  options: [
                    { text: "Warna hitam, saiz L", chinese: "é»‘è‰²ï¼ŒLå·", correct: false, wrongWord: "Hitam" },
                    { text: "Warna putih, saiz M", chinese: "ç™½è‰²ï¼ŒMå·", correct: false, wrongWord: "M" },
                    { text: "Warna putih, saiz L", chinese: "ç™½è‰²ï¼ŒLå·", correct: true }
                  ]
                },
                { 
                  id: 6, 
                  type: "hat", 
                  color: "merah", 
                  colorChinese: "çº¢è‰²",
                  colorHex: "#EF4444",
                  size: "S", 
                  emoji: "ğŸ§¢",
                  question: "é¡¾å®¢æƒ³è¦å“ªä¸€ä¸ªï¼Ÿ",
                  options: [
                    { text: "Warna merah, saiz S", chinese: "çº¢è‰²ï¼ŒSå·", correct: true },
                    { text: "Warna merah, saiz L", chinese: "çº¢è‰²ï¼ŒLå·", correct: false, wrongWord: "L" },
                    { text: "Warna biru, saiz S", chinese: "è“è‰²ï¼ŒSå·", correct: false, wrongWord: "Biru" }
                  ]
                }
              ]
            }
          },
          {
            title: "6.5 æ–‡åŒ–ç¬”è®° (NOTA BUDAYA)",
            content: [
              { malay: "Tempat tawar-menawar", chinese: "è®¨ä»·è¿˜ä»·åœ°ç‚¹", pinyin: "Tem-pat ta-war me-na-war", note: "é€šå¸¸åœ¨é›†å¸‚å…è®¸è®¨ä»·è¿˜ä»·ï¼Œä½†åœ¨å¤§å‹è´­ç‰©ä¸­å¿ƒé€šå¸¸æ˜¯å›ºå®šä»·æ ¼" },
              { malay: "Cara sopan", chinese: "ç¤¼è²Œåå•†", pinyin: "Cha-ra so-pan", note: "è®²ä»·æ—¶è¯·ä¿æŒå¾®ç¬‘å¹¶ä½¿ç”¨ç¤¼è²Œçš„è¯­æ°”" },
              { malay: "Ucap terima kasih", chinese: "åŸºæœ¬ç¤¼ä»ª", pinyin: "Oo-chap ter-ree-ma ka-seh", note: "å³ä½¿æœ€åæ²¡æœ‰è´­ä¹°ï¼Œä¹Ÿè¯·è¯´å£° 'Terima kasih'" },
              { malay: "Harga tetap", chinese: "å›ºå®šä»·æ ¼", pinyin: "Har-ga te-tap", note: "åœ¨è´­ç‰©ä¸­å¿ƒæˆ–è¿é”åº—ï¼Œä»·æ ¼é€šå¸¸æ˜¯å›ºå®šçš„ï¼Œä¸é€‚åˆè®¨ä»·è¿˜ä»·" }
            ]
          }
        ]
      },
      7: {
        title: "æ–¹å‘ä¸ä½ç½®",
        malay: "Arah & Lokasi",
        pinyin: "FÄngxiÃ ng yÇ” wÃ¨izhÃ¬",
        icon: "ğŸ—ºï¸",
        color: "from-green-400 to-emerald-500",
        youtubeLink: "https://youtu.be/bD279e1Hyrs?si=8FW9-iStzT5p45gv",
        intro: "åœ¨æœ¬å•å…ƒç»“æŸæ—¶ï¼Œå‚ä¸è€…å°†èƒ½å¤Ÿï¼šç¤¼è²Œåœ°è¯¢é—®æ–¹å‘ã€ç†è§£åŸºæœ¬æ–¹å‘ï¼ˆå·¦ã€å³ã€å‰ã€åï¼‰ã€ä½¿ç”¨åŸå¸‚å’Œå…¬å…±åœºæ‰€çš„åœ°ç‚¹è¯æ±‡ã€‚",
        sections: [
          {
            title: "7.1 é‡è¦è¯æ±‡ (PERKATAAN PENTING)",
            content: [
              { malay: "Di mana", chinese: "åœ¨å“ªé‡Œ", pinyin: "Dee ma-na", note: "åœ¨å“ªé‡Œ" },
              { malay: "Jalan", chinese: "è·¯", pinyin: "Ja-lan", note: "è·¯" },
              { malay: "Kiri", chinese: "å·¦è¾¹", pinyin: "Kee-ree", note: "å·¦è¾¹" },
              { malay: "Kanan", chinese: "å³è¾¹", pinyin: "Ka-nan", note: "å³è¾¹" },
              { malay: "Depan", chinese: "å‰é¢", pinyin: "De-pan", note: "å‰é¢" },
              { malay: "Belakang", chinese: "åé¢", pinyin: "Be-la-kang", note: "åé¢" },
              { malay: "Lurus", chinese: "ç›´èµ°", pinyin: "Loo-roos", note: "ç›´èµ°" },
              { malay: "Berhenti", chinese: "åœ", pinyin: "Ber-hen-tee", note: "åœ" },
              { malay: "Dekat", chinese: "è¿‘", pinyin: "De-kat", note: "è¿‘" },
              { malay: "Jauh", chinese: "è¿œ", pinyin: "Ja-ooh", note: "è¿œ" }
            ]
          },
          {
            title: "7.2 å…¬å…±åœºæ‰€ (TEMPAT AWAM)",
            content: [
              { malay: "Tandas", chinese: "å•æ‰€", pinyin: "Tan-das", note: "å•æ‰€" },
              { malay: "Hospital", chinese: "åŒ»é™¢", pinyin: "Hos-pee-tal", note: "åŒ»é™¢" },
              { malay: "Balai polis", chinese: "è­¦å¯Ÿå±€", pinyin: "Ba-la-ee po-lees", note: "è­¦å¯Ÿå±€" },
              { malay: "Stesen", chinese: "è½¦ç«™", pinyin: "S-te-sen", note: "è½¦ç«™" },
              { malay: "Hotel", chinese: "é…’åº—", pinyin: "Ho-tel", note: "é…’åº—" },
              { malay: "Restoran", chinese: "é¤å…", pinyin: "Res-to-ran", note: "é¤å…" },
              { malay: "Pasar", chinese: "å¸‚åœº", pinyin: "Pa-sar", note: "å¸‚åœº" },
              { malay: "Bank", chinese: "é“¶è¡Œ", pinyin: "Beng-k", note: "é“¶è¡Œ" }
            ]
          },
          {
            title: "7.3 åŸºæœ¬å¥å­ (AYAT ASAS)",
            content: [
              { malay: "Di mana tandas?", chinese: "å•æ‰€åœ¨å“ªé‡Œï¼Ÿ", pinyin: "Dee ma-na tan-das?", note: "é—®å•æ‰€" },
              { malay: "Di mana hotel ini?", chinese: "è¿™ä¸ªé…’åº—åœ¨å“ªé‡Œï¼Ÿ", pinyin: "Dee ma-na ho-tel ee-nee?", note: "é—®é…’åº—" },
              { malay: "Pergi lurus.", chinese: "ä¸€ç›´èµ°ã€‚", pinyin: "Per-gee loo-roos.", note: "ç›´èµ°" },
              { malay: "Belok kiri.", chinese: "å‘å·¦è½¬ã€‚", pinyin: "Be-lok kee-ree.", note: "å·¦è½¬" },
              { malay: "Belok kanan.", chinese: "å‘å³è½¬ã€‚", pinyin: "Be-lok ka-nan.", note: "å³è½¬" },
              { malay: "Di depan.", chinese: "åœ¨å‰é¢ã€‚", pinyin: "Dee de-pan.", note: "åœ¨å‰é¢" },
              { malay: "Di belakang.", chinese: "åœ¨åé¢ã€‚", pinyin: "Dee be-la-kang.", note: "åœ¨åé¢" }
            ]
          },
          {
            title: "7.4 å¯¹è¯ç¤ºä¾‹ (CONTOH DIALOG) - è¯¢é—®å»å•æ‰€çš„æ–¹å‘",
            content: [
              { malay: "æ¸¸å®¢: Maaf, di mana tandas?", chinese: "æ¸¸å®¢ï¼šä¸å¥½æ„æ€ï¼Œå•æ‰€åœ¨å“ªé‡Œï¼Ÿ", pinyin: "Ma-af, dee ma-na tan-das?", note: "é—®è·¯" },
              { malay: "å½“åœ°äºº: Pergi lurus, kemudian belok kanan.", chinese: "å½“åœ°äººï¼šä¸€ç›´èµ°ï¼Œç„¶åå‘å³è½¬ã€‚", pinyin: "Per-gee loo-roos, ke-mun-dyan be-lok ka-nan.", note: "æŒ‡è·¯" },
              { malay: "æ¸¸å®¢: Terima kasih.", chinese: "æ¸¸å®¢ï¼šè°¢è°¢ã€‚", pinyin: "Ter-ree-ma ka-seh", note: "æ„Ÿè°¢" },
              { malay: "å½“åœ°äºº: Sama-sama.", chinese: "å½“åœ°äººï¼šä¸å®¢æ°”ã€‚", pinyin: "Sa-ma sa-ma", note: "å›åº”" }
            ]
          },
          {
            title: "7.5 ç»ƒä¹  (LATIHAN) - åŸå¸‚å¯¼èˆªæ¸¸æˆ ğŸ—ºï¸",
            isGame: true,
            gameType: "navigation",
            content: {
              missions: [
                {
                  id: 1,
                  name: "æ‰¾åˆ°å•æ‰€",
                  emoji: "ğŸš»",
                  target: "tandas",
                  steps: [
                    {
                      instruction: "Pergi lurus",
                      instructionChinese: "ä¸€ç›´èµ°",
                      options: [
                        { text: "å‘å‰èµ°", direction: "forward", correct: true },
                        { text: "å‘å·¦è½¬", direction: "left", correct: false },
                        { text: "å‘å³è½¬", direction: "right", correct: false }
                      ]
                    },
                    {
                      instruction: "Belok kanan",
                      instructionChinese: "å‘å³è½¬",
                      options: [
                        { text: "å‘å³è½¬", direction: "right", correct: true },
                        { text: "å‘å·¦è½¬", direction: "left", correct: false },
                        { text: "ç»§ç»­ç›´èµ°", direction: "forward", correct: false }
                      ]
                    }
                  ]
                },
                {
                  id: 2,
                  name: "å»é¤å…",
                  emoji: "ğŸœ",
                  target: "restoran",
                  steps: [
                    {
                      instruction: "Belok kiri",
                      instructionChinese: "å‘å·¦è½¬",
                      options: [
                        { text: "å‘å·¦è½¬", direction: "left", correct: true },
                        { text: "å‘å³è½¬", direction: "right", correct: false },
                        { text: "ä¸€ç›´èµ°", direction: "forward", correct: false }
                      ]
                    },
                    {
                      instruction: "Pergi lurus",
                      instructionChinese: "ä¸€ç›´èµ°",
                      options: [
                        { text: "ç»§ç»­å‘å‰", direction: "forward", correct: true },
                        { text: "å‘å³è½¬", direction: "right", correct: false },
                        { text: "å‘å·¦è½¬", direction: "left", correct: false }
                      ]
                    }
                  ]
                },
                {
                  id: 3,
                  name: "æ‰¾é“¶è¡Œ",
                  emoji: "ğŸ¦",
                  target: "bank",
                  steps: [
                    {
                      instruction: "Pergi lurus",
                      instructionChinese: "ä¸€ç›´èµ°",
                      options: [
                        { text: "å‘å‰èµ°", direction: "forward", correct: true },
                        { text: "å‘å·¦è½¬", direction: "left", correct: false },
                        { text: "åœä¸‹", direction: "stop", correct: false }
                      ]
                    },
                    {
                      instruction: "Belok kiri",
                      instructionChinese: "å‘å·¦è½¬",
                      options: [
                        { text: "å‘å·¦è½¬", direction: "left", correct: true },
                        { text: "å‘å³è½¬", direction: "right", correct: false },
                        { text: "ä¸€ç›´èµ°", direction: "forward", correct: false }
                      ]
                    }
                  ]
                },
                {
                  id: 4,
                  name: "æ‰¾åŒ»é™¢",
                  emoji: "ğŸ¥",
                  target: "hospital",
                  steps: [
                    {
                      instruction: "Belok kanan",
                      instructionChinese: "å‘å³è½¬",
                      options: [
                        { text: "å‘å³è½¬", direction: "right", correct: true },
                        { text: "å‘å·¦è½¬", direction: "left", correct: false },
                        { text: "ä¸€ç›´èµ°", direction: "forward", correct: false }
                      ]
                    },
                    {
                      instruction: "Belok kiri",
                      instructionChinese: "å‘å·¦è½¬",
                      options: [
                        { text: "å‘å·¦è½¬", direction: "left", correct: true },
                        { text: "å‘å³è½¬", direction: "right", correct: false },
                        { text: "åœä¸‹", direction: "stop", correct: false }
                      ]
                    }
                  ]
                },
                {
                  id: 5,
                  name: "æ‰¾è½¦ç«™",
                  emoji: "ğŸš‰",
                  target: "stesen",
                  steps: [
                    {
                      instruction: "Pergi lurus",
                      instructionChinese: "ä¸€ç›´èµ°",
                      options: [
                        { text: "å‘å‰èµ°", direction: "forward", correct: true },
                        { text: "å‘å·¦è½¬", direction: "left", correct: false },
                        { text: "å‘å³è½¬", direction: "right", correct: false }
                      ]
                    },
                    {
                      instruction: "Belok kanan",
                      instructionChinese: "å‘å³è½¬",
                      options: [
                        { text: "å‘å³è½¬", direction: "right", correct: true },
                        { text: "å‘å·¦è½¬", direction: "left", correct: false },
                        { text: "ä¸€ç›´èµ°", direction: "forward", correct: false }
                      ]
                    }
                  ]
                }
              ]
            }
          },
          {
            title: "7.6 æ–‡åŒ–ç¬”è®° (NOTA BUDAYA)",
            content: [
              { malay: "Ucapan sopan", chinese: "ç¤¼è²Œå¼€å¤´", pinyin: "U-cha-pan so-pan", note: "è¯¢é—®æ–¹å‘æ—¶ï¼Œè¯·å…ˆè¯´ 'Maaf' (å¯¹ä¸èµ·/ä¸å¥½æ„æ€)" },
              { malay: "Guna alat", chinese: "ä½¿ç”¨å·¥å…·", pinyin: "Gu-na a-lat", note: "å¯ä»¥åœ¨æ‰‹æœºä¸Šå±•ç¤ºåœ°å›¾æˆ–åœ°å€ï¼Œä»¥ä¾¿å¯¹æ–¹æ›´æ¸…æ¥šåœ°æŒ‡è·¯" },
              { malay: "Ucap terima kasih", chinese: "è¡¨è¾¾æ„Ÿè°¢", pinyin: "U-chap ter-ree-ma ka-seh", note: "å¯¹æ–¹æŒ‡è·¯åï¼Œè¯·åŠ¡å¿…è¯´å£° 'Terima kasih'" }
            ]
          }
        ]
      },
      8: {
        title: "ç´§æ€¥æƒ…å†µä¸å¥åº·",
        malay: "KECEMASAN & KESIHATAN",
        pinyin: "JÇnjÃ­ qÃ­ngkuÃ ng yÇ” jiÃ nkÄng",
        icon: "ğŸš‘",
        color: "from-fuchsia-400 to-pink-500",
        youtubeLink: "https://youtu.be/LZC8KSC22cI?si=ZjTA8DhtluUizFMD",
        intro: "åœ¨æœ¬å•å…ƒç»“æŸæ—¶ï¼Œå‚ä¸è€…å°†èƒ½å¤Ÿï¼šåœ¨ç´§æ€¥æƒ…å†µä¸‹å¯»æ±‚å¸®åŠ©ã€è¡¨è¾¾ç”Ÿç—…æˆ–å±é™©çš„çŠ¶æ€ã€äº†è§£è·å–å¸®åŠ©çš„åœ°ç‚¹ï¼ˆåŒ»é™¢ã€è­¦å¯Ÿå±€ï¼‰ã€‚",
        sections: [
          {
            title: "8.1 ç´§æ€¥æ±‚åŠ©è¯æ±‡",
            content: [
              { malay: "Tolong!", chinese: "æ•‘å‘½ï¼", pinyin: "To-long", note: "ç´§æ€¥æ±‚åŠ©" },
              { malay: "Bantuan!", chinese: "å¸®å¿™ï¼", pinyin: "Ban-too-an", note: "è¯·æ±‚å¸®åŠ©" },
              { malay: "Polis", chinese: "è­¦å¯Ÿ", pinyin: "Po-lees", note: "è­¦å¯Ÿ" },
              { malay: "Ambulans", chinese: "æ•‘æŠ¤è½¦", pinyin: "Am-boo-lans", note: "æ•‘æŠ¤è½¦" },
              { malay: "Kecemasan", chinese: "ç´§æ€¥æƒ…å†µ", pinyin: "Ke-che-ma-san", note: "ç´§æ€¥çŠ¶å†µ" }
            ]
          },
          {
            title: "8.2 è¡¨è¾¾ç”Ÿç—…",
            content: [
              { malay: "Saya sakit.", chinese: "æˆ‘ç”Ÿç—…äº†ã€‚", pinyin: "Sa-ya sa-keet", note: "æ„Ÿè§‰ç”Ÿç—…" },
              { malay: "Saya demam.", chinese: "æˆ‘å‘çƒ§äº†ã€‚", pinyin: "Sa-ya de-mam", note: "å‘çƒ§" },
              { malay: "Saya pening.", chinese: "æˆ‘å¤´æ™•ã€‚", pinyin: "Sa-ya pe-ning", note: "å¤´æ™•" },
              { malay: "Saya loya.", chinese: "æˆ‘æƒ³åã€‚", pinyin: "Sa-ya lo-ya", note: "æ¶å¿ƒ" },
              { malay: "Saya sakit perut.", chinese: "æˆ‘è‚šå­ç—›ã€‚", pinyin: "Sa-ya sa-keet pe-root", note: "è…¹ç—›" }
            ]
          },
          {
            title: "8.3 é‡è¦åœ°ç‚¹",
            content: [
              { malay: "Hospital", chinese: "åŒ»é™¢", pinyin: "Hos-pee-tal", note: "åŒ»é™¢" },
              { malay: "Klinik", chinese: "è¯Šæ‰€", pinyin: "Klee-neek", note: "è¯Šæ‰€" },
              { malay: "Balai polis", chinese: "è­¦å¯Ÿå±€", pinyin: "Ba-la-ee po-lees", note: "è­¦å¯Ÿå±€" },
              { malay: "Farmasi", chinese: "è¯æˆ¿", pinyin: "Far-ma-see", note: "è¯åº—" },
              { malay: "Kecemasan", chinese: "æ€¥è¯Šå®¤", pinyin: "Ke-che-ma-san", note: "æ€¥è¯Š" }
            ]
          },
          {
            title: "8.4 ç´§æ€¥å¯¹è¯",
            content: [
              { malay: "æ¸¸å®¢: Tolong! Saya perlukan bantuan!", chinese: "æ¸¸å®¢ï¼šæ•‘å‘½ï¼æˆ‘éœ€è¦å¸®åŠ©ï¼", pinyin: "To-long! Sa-ya per-loo-kan ban-too-an", note: "ç´§æ€¥æ±‚åŠ©" },
              { malay: "å½“åœ°äºº: Apa masalah?", chinese: "å½“åœ°äººï¼šä»€ä¹ˆé—®é¢˜ï¼Ÿ", pinyin: "A-pa ma-sa-lah?", note: "è¯¢é—®æƒ…å†µ" },
              { malay: "æ¸¸å®¢: Saya sakit. Di mana hospital?", chinese: "æ¸¸å®¢ï¼šæˆ‘ç”Ÿç—…äº†ã€‚åŒ»é™¢åœ¨å“ªé‡Œï¼Ÿ", pinyin: "Sa-ya sa-keet. Dee ma-na hos-pee-tal?", note: "é—®åŒ»é™¢ä½ç½®" },
              { malay: "å½“åœ°äºº: Hospital ada dekat sini.", chinese: "å½“åœ°äººï¼šåŒ»é™¢å°±åœ¨é™„è¿‘ã€‚", pinyin: "Hos-pee-tal ah-da de-kat see-nee", note: "æŒ‡ç¤ºä½ç½®" }
            ]
          },
          {
            title: "8.5 æ–‡åŒ–ç¬”è®°",
            content: [
              { malay: "Nombor kecemasan", chinese: "ç´§æ€¥ç”µè¯", pinyin: "Nom-bor ke-che-ma-san", note: "é©¬æ¥è¥¿äºšç´§æ€¥ç”µè¯ï¼š999ï¼ˆè­¦å¯Ÿ/æ•‘æŠ¤è½¦ï¼‰" },
              { malay: "Bawa kad pengenalan", chinese: "å¸¦èº«ä»½è¯", pinyin: "Ba-wa kad peng-e-na-lan", note: "å»åŒ»é™¢æ—¶å¸¦ä¸ŠæŠ¤ç…§å’Œæ—…è¡Œä¿é™©" },
              { malay: "Kesabaran", chinese: "ä¿æŒè€å¿ƒ", pinyin: "Ke-sa-ba-ran", note: "é©¬æ¥è¥¿äºšåŒ»é™¢æœ‰æ—¶éœ€è¦ç­‰å¾…ï¼Œè¯·ä¿æŒè€å¿ƒ" },
              { malay: "Insurans", chinese: "æ—…è¡Œä¿é™©", pinyin: "In-soo-rans", note: "å»ºè®®è´­ä¹°æ—…è¡Œä¿é™©è¦†ç›–åŒ»ç–—è´¹ç”¨" }
            ]
          }
        ]
      },
      9: {
        title: "æ–‡åŒ–ä¸ç¤¼ä»ª",
        malay: "Budaya & Etika Komunikasi Malaysia",
        pinyin: "WÃ©nhuÃ  yÇ” lÇyÃ­",
        icon: "ğŸ­",
        color: "from-indigo-400 to-indigo-600",
        youtubeLink: "https://youtube.com/@fyiilysm?si=TMOv8w7TZzV_Zq4F&t=0",
        intro: "åœ¨æœ¬å•å…ƒç»“æŸæ—¶ï¼Œå‚ä¸è€…å°†èƒ½å¤Ÿï¼šäº†è§£é©¬æ¥è¥¿äºšæ–‡åŒ–ç¦å¿Œã€æŒæ¡åŸºæœ¬ç¤¼ä»ªã€å°Šé‡å¤šå…ƒæ–‡åŒ–ä¹ ä¿—ã€‚",
        sections: [
          {
            title: "9.1 æ–‡åŒ–ç¦å¿Œ",
            content: [
              { malay: "Jangan gunakan tangan kiri", chinese: "ä¸è¦ç”¨å·¦æ‰‹", pinyin: "Ja-ngan gu-na-kan tan-gan ki-ri", note: "å·¦æ‰‹è¢«è®¤ä¸ºä¸æ´" },
              { malay: "Jangan sentuh kepala orang", chinese: "ä¸è¦æ‘¸åˆ«äººçš„å¤´", pinyin: "Ja-ngan sen-tooh ke-pa-la o-rang", note: "å¤´éƒ¨è¢«è®¤ä¸ºæ˜¯ç¥åœ£çš„" },
              { malay: "Jangan tunjuk dengan kaki", chinese: "ä¸è¦ç”¨è„šæŒ‡", pinyin: "Ja-ngan toon-jook deng-an ka-kee", note: "è„šè¢«è®¤ä¸ºæ˜¯æœ€ä½éƒ¨ä½" },
              { malay: "Tanggalkan kasut", chinese: "è„±é‹", pinyin: "Tang-gal-kan ka-soot", note: "è¿›å…¥å®—æ•™åœºæ‰€å’Œå®¶åº­è¦è„±é‹" },
              { malay: "Hormati waktu solat", chinese: "å°Šé‡ç¥ˆç¥·æ—¶é—´", pinyin: "Hor-ma-tee wa-ktu so-lat", note: "ç©†æ–¯æ—æ¯å¤©ç¥ˆç¥·äº”æ¬¡" }
            ]
          },
          {
            title: "9.2 é¤æ¡Œç¤¼ä»ª",
            content: [
              { malay: "Gunakan tangan kanan", chinese: "ç”¨å³æ‰‹", pinyin: "Gu-na-kan tan-gan ka-nan", note: "ä¼ ç»Ÿé©¬æ¥é¤ç”¨å³æ‰‹æŠ“é¥­" },
              { malay: "Tunggu tuan rumah", chinese: "ç­‰å¾…ä¸»äºº", pinyin: "Toong-goo too-an roo-mah", note: "ç­‰ä¸»äººå…ˆå¼€å§‹åƒ" },
              { malay: "Jangan buat bising", chinese: "ä¸è¦åµé—¹", pinyin: "Ja-ngan boo-at bee-sing", note: "åƒé¥­æ—¶ä¿æŒå®‰é™" },
              { malay: "Ucap terima kasih", chinese: "è¯´è°¢è°¢", pinyin: "Oo-chap ter-ree-ma ka-seh", note: "é¥­åæ„Ÿè°¢ä¸»äºº" },
              { malay: "Hidangan halal", chinese: "æ¸…çœŸé£Ÿå“", pinyin: "Hi-dang-an ha-lal", note: "å°Šé‡ç©†æ–¯æ—é¥®é£Ÿé™åˆ¶" }
            ]
          },
          {
            title: "9.3 é—®å€™æ–¹å¼",
            content: [
              { malay: "Assalamualaikum", chinese: "æ„¿å’Œå¹³ä¸ä½ åŒåœ¨", pinyin: "As-sa-la-mu-a-lai-kum", note: "ç©†æ–¯æ—é—®å€™è¯­" },
              { malay: "Waalaikumsalam", chinese: "æ„¿å’Œå¹³ä¹Ÿä¸ä½ åŒåœ¨", pinyin: "Wa-a-lai-kum-sa-lam", note: "å›åº”é—®å€™" },
              { malay: "Salam sejahtera", chinese: "å¹³å®‰é—®å€™", pinyin: "Sa-lam se-jah-te-ra", note: "é€šç”¨é—®å€™è¯­" },
              { malay: "Senyum dan angguk", chinese: "å¾®ç¬‘ç‚¹å¤´", pinyin: "Se-nyum dan ang-gook", note: "ç¤¼è²Œçš„è‚¢ä½“è¯­è¨€" },
              { malay: "Beri salam", chinese: "ä¸»åŠ¨é—®å€™", pinyin: "Be-ree sa-lam", note: "è§åˆ°äººä¸»åŠ¨é—®å€™" }
            ]
          },
          {
            title: "9.4 å¤šå…ƒæ–‡åŒ–å°Šé‡",
            content: [
              { malay: "Hormati semua agama", chinese: "å°Šé‡æ‰€æœ‰å®—æ•™", pinyin: "Hor-ma-tee se-moo-a a-ga-ma", note: "é©¬æ¥è¥¿äºšæœ‰ä¼Šæ–¯å…°æ•™ã€ä½›æ•™ã€åŸºç£æ•™ã€å°åº¦æ•™" },
              { malay: "Pakaian sopan", chinese: "å¾—ä½“ç€è£…", pinyin: "Pa-ka-ian so-pan", note: "å®—æ•™åœºæ‰€è¦ç©¿ç€å¾—ä½“" },
              { malay: "Musim perayaan", chinese: "èŠ‚æ—¥å­£èŠ‚", pinyin: "Moo-sim per-a-ya-an", note: "å°Šé‡å¼€æ–‹èŠ‚ã€å†œå†æ–°å¹´ã€å± å¦–èŠ‚ç­‰" },
              { malay: "Bahasa tubuh", chinese: "è‚¢ä½“è¯­è¨€", pinyin: "Ba-ha-sa too-buh", note: "ä¿æŒé€‚åº¦çš„çœ¼ç¥æ¥è§¦å’Œè·ç¦»" },
              { malay: "Bersabar", chinese: "ä¿æŒè€å¿ƒ", pinyin: "Ber-sa-bar", note: "é©¬æ¥è¥¿äºšäººç”Ÿæ´»èŠ‚å¥è¾ƒæ…¢ï¼Œè¯·è€å¿ƒ" }
            ]
          },
          {
            title: "9.5 å®ç”¨è´´å£«",
            content: [
              { malay: "Senyum selalu", chinese: "å¸¸å¸¦å¾®ç¬‘", pinyin: "Se-nyum se-la-loo", note: "å¾®ç¬‘æ˜¯æœ€å¥½çš„æ²Ÿé€š" },
              { malay: "Bercakap perlahan", chinese: "æ…¢æ…¢è¯´", pinyin: "Ber-cha-kap per-la-han", note: "è¯´è¯æ…¢ä¸€ç‚¹ï¼Œæ¸…æ™°ä¸€ç‚¹" },
              { malay: "Gunakan 'Encik'/'Puan'", chinese: "ä½¿ç”¨å…ˆç”Ÿ/å¥³å£«", pinyin: "Gu-na-kan 'En-cik'/'Pu-an'", note: "ç¤¼è²Œç§°å‘¼" },
              { malay: "Hargai budaya", chinese: "çæƒœæ–‡åŒ–", pinyin: "Har-ga-ee boo-da-ya", note: "é©¬æ¥è¥¿äºšæ–‡åŒ–ä¸°å¯Œå¤šæ ·ï¼Œè¯·çæƒœ" },
              { malay: "Nikmati perbezaan", chinese: "äº«å—å·®å¼‚", pinyin: "Nik-ma-tee per-be-za-an", note: "äº«å—æ–‡åŒ–çš„å¤šæ ·æ€§" }
            ]
          }
        ]
      }
    };

    // Progress data
    let progress = {
      chapters: { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0 },
      wordsLearned: 0,
      sentencesLearned: 0
    };

    // Load progress from localStorage
    function loadProgress() {
      try {
        const saved = localStorage.getItem('malayProgress');
        if (saved) {
          progress = JSON.parse(saved);
        }
      } catch (e) {
        console.warn('Failed to load progress:', e);
      }
    }

    // Save progress to localStorage
    function saveProgress() {
      try {
        localStorage.setItem('malayProgress', JSON.stringify(progress));
      } catch (e) {
        console.warn('Failed to save progress:', e);
      }
    }

    // Initialize
    loadProgress();

    // Config
    const defaultConfig = {
      site_title: "é©¬æ¥è¯­å¿«é€Ÿå…¥é—¨æ•™ç¨‹",
      welcome_text: "ä¸“ä¸ºä¸­å›½æ¸¸å®¢è®¾è®¡"
    };

    let config = { ...defaultConfig };

    // Navigation functions
    function showHome() {
      document.getElementById('home-view').classList.remove('hidden');
      document.getElementById('chapter-view').classList.add('hidden');
      document.getElementById('progress-view').classList.add('hidden');
      window.scrollTo(0, 0);
    }

    function showProgress() {
      document.getElementById('home-view').classList.add('hidden');
      document.getElementById('chapter-view').classList.add('hidden');
      document.getElementById('progress-view').classList.remove('hidden');
      renderProgressView();
      window.scrollTo(0, 0);
    }

    function showChapter(num) {
      const homeView = document.getElementById('home-view');
      const chapterView = document.getElementById('chapter-view');
      const progressView = document.getElementById('progress-view');

      if (homeView) homeView.classList.add('hidden');
      if (progressView) progressView.classList.add('hidden');
      if (chapterView) chapterView.classList.remove('hidden');

      renderChapter(num);
      window.scrollTo(0, 0);
    }

    function renderChapter(num) {
      const chapter = chapters[num];
      const container = document.getElementById('chapter-view');

      // Special chapters (8 & 9) with custom styles
      if (Number(num) === 8) {
        container.innerHTML = renderChapter8Mindmap();
        window.scrollTo(0, 0);
        return;
      }
      
      if (Number(num) === 9) {
        container.innerHTML = renderChapter9();
        window.scrollTo(0, 0);
        return;
      }

      // Standard chapters (1-7)
      if (!chapter) {
        container.innerHTML = `<div class="p-6 bg-emerald-900/40 rounded-2xl border border-emerald-700/40">
          <p class="text-emerald-200">Chapter ${num} not found.</p>
        </div>`;
        return;
      }

      const sectionsHtml = chapter.sections.map((section, sIdx) => {
        const delay = sIdx * 0.1;
        const gameId = `game-${num}-${sIdx}`;

        if (section.isGame) {
          // Game sections
          if (section.gameType === 'boutique') {
            return `
              <div class="bg-gradient-to-br from-cyan-800/50 to-blue-800/50 rounded-2xl p-6 border border-cyan-700/50 fade-in" style="animation-delay:${delay}s">
                <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                  <span class="w-8 h-8 bg-cyan-600 rounded-lg flex items-center justify-center text-sm">ğŸ›ï¸</span>
                  ${section.title}
                </h3>
                <div id="${gameId}" class="space-y-4"></div>
              </div>
            `;
          }
          
          if (section.gameType === 'matching') {
            return `
              <div class="bg-gradient-to-br from-purple-800/50 to-violet-800/50 rounded-2xl p-6 border border-purple-700/50 fade-in" style="animation-delay:${delay}s">
                <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                  <span class="w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center text-sm">ğŸ´</span>
                  ${section.title}
                </h3>
                <div id="${gameId}" class="space-y-4"></div>
              </div>
            `;
          }
          
          if (section.gameType === 'navigation') {
            return `
              <div class="bg-gradient-to-br from-green-800/50 to-emerald-800/50 rounded-2xl p-6 border border-green-700/50 fade-in" style="animation-delay:${delay}s">
                <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                  <span class="w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center text-sm">ğŸ—ºï¸</span>
                  ${section.title}
                </h3>
                <div id="${gameId}" class="space-y-4"></div>
              </div>
            `;
          }

          // Default game
          return `
            <div class="bg-gradient-to-br from-blue-800/50 to-indigo-800/50 rounded-2xl p-6 border border-blue-700/50 fade-in" style="animation-delay:${delay}s">
              <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                <span class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-sm">ğŸ®</span>
                ${section.title}
              </h3>
              <div id="${gameId}" class="space-y-4"></div>
            </div>
          `;
        }

        if (section.isExercise) {
          // Exercise sections
          return `
            <div class="bg-gradient-to-br from-orange-800/50 to-red-800/50 rounded-2xl p-6 border border-orange-700/50 fade-in" style="animation-delay:${delay}s">
              <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                <span class="w-8 h-8 bg-orange-600 rounded-lg flex items-center justify-center text-sm">âœï¸</span>
                ${section.title}
              </h3>
              <div class="space-y-4">
                ${section.content.map((item, iIdx) => `
                  <div class="bg-emerald-900/50 rounded-xl p-5 border border-emerald-700/30" id="exercise-${num}-${sIdx}-${iIdx}">
                    <p class="text-white font-medium mb-3 text-lg">${iIdx + 1}. ${item.question}</p>
                    <div class="space-y-2 mb-3">
                      ${item.options.map((opt) => `
                        <button onclick="checkAnswer(${num}, ${sIdx}, ${iIdx}, '${opt.charAt(0)}', this)"
                          class="w-full text-left p-3 rounded-lg bg-emerald-800/50 hover:bg-emerald-700/50 transition-colors border border-emerald-700/30 text-emerald-100">
                          ${opt}
                        </button>
                      `).join('')}
                    </div>
                    <div id="feedback-${num}-${sIdx}-${iIdx}" class="hidden mt-3 p-3 rounded-lg"></div>
                  </div>
                `).join('')}
              </div>
              <div class="mt-6 p-4 bg-emerald-900/50 rounded-xl border border-emerald-700/30 text-center">
                <p class="text-emerald-300"><span class="font-bold text-yellow-400" id="score-${num}-${sIdx}">0</span> / ${section.content.length} æ­£ç¡®</p>
              </div>
            </div>
          `;
        }

        // Normal vocabulary section
        if (section.isCustomHTML) {
  return `
    <div class="fade-in" style="animation-delay:${delay}s">
      ${section.content}
    </div>
  `;
}

// Normal vocabulary section
return `
  <div class="bg-emerald-800/50 rounded-2xl p-6 border border-emerald-700/50 fade-in" style="animation-delay:${delay}s">
    <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
      <span class="w-8 h-8 bg-emerald-700 rounded-lg flex items-center justify-center text-sm">${sIdx + 1}</span>
      ${section.title}
    </h3>
    <div class="space-y-3">
      ${section.content.map((item, iIdx) => `
        <div class="vocab-item bg-emerald-900/50 rounded-xl p-4 border border-emerald-700/30 cursor-pointer"
             onclick="markLearned(${num}, ${sIdx}, ${iIdx}, this)">
          <div class="flex items-start justify-between gap-4">
            <div class="flex-1">
              <div class="flex items-center gap-3 mb-2">
                <span class="text-lg font-bold text-yellow-400 malay-text">${item.malay}</span>
                <span class="text-emerald-300 text-sm">[${item.pinyin || "-"}]</span>
              </div>
              <p class="text-white text-lg mb-1">${item.chinese}</p>
              <p class="text-emerald-400 text-sm">ğŸ’¡ ${item.note || ""}</p>
            </div>
            <button class="audio-btn w-10 h-10 bg-emerald-700 hover:bg-emerald-600 rounded-full flex items-center justify-center flex-shrink-0"
                    onclick="event.stopPropagation(); speak('${String(item.malay).replace(/'/g, "\\'")}')">
              ğŸ”Š
            </button>
          </div>
        </div>
      `).join('')}
    </div>
  </div>
`;
      }).join('');

      // Navigation buttons
      const nextBtn = num < 9 
        ? `<button onclick="showChapter(${num + 1})" class="practice-btn bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 px-6 py-3 rounded-xl font-medium flex items-center gap-2 text-emerald-900">
            ä¸‹ä¸€ç«  â†’
           </button>`
        : `<button onclick="showHome()" class="practice-btn bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 px-6 py-3 rounded-xl font-medium flex items-center gap-2 text-emerald-900">
            å®Œæˆå­¦ä¹  ğŸ‰
           </button>`;

      container.innerHTML = `
        <div class="fade-in">
          <div class="flex items-center gap-4 mb-6">
            <button onclick="showHome()" class="w-10 h-10 bg-emerald-800 hover:bg-emerald-700 rounded-xl flex items-center justify-center transition-colors">â†</button>
            <div class="flex items-center gap-4">
              <div class="w-16 h-16 bg-gradient-to-br ${chapter.color} rounded-2xl flex items-center justify-center text-3xl shadow-lg">${chapter.icon}</div>
              <div class="flex-1">
                <div class="flex items-center gap-2 mb-1">
                  <span class="bg-emerald-700/50 px-3 py-1 rounded-full text-xs text-emerald-300">ç¬¬${num}ç« </span>
                  
                </div>
                <h2 class="text-2xl font-bold">${chapter.title}</h2>
                <p class="text-emerald-300 malay-text">${chapter.malay}</p>
              </div>
            </div>
          </div>

          <div class="bg-gradient-to-r from-emerald-800/50 to-teal-800/50 rounded-2xl p-6 mb-8 border border-emerald-700/50">
            <p class="text-emerald-100 leading-relaxed">${chapter.intro}</p>
            
            ${chapter.youtubeLink ? `
              <div class="mt-4 pt-4 border-t border-emerald-700/30">
                <a href="${chapter.youtubeLink}" target="_blank" 
                   class="inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-white text-sm transition-colors">
                  <span>ğŸ¥ è§‚çœ‹æœ¬ç« è§†é¢‘æ•™ç¨‹</span>
                  <span>â–¶ï¸</span>
                </a>
                <p class="text-emerald-300 text-xs mt-2">å­¦ä¹ æ›´è½»æ¾ï¼Œè§‚çœ‹è§†é¢‘è®²è§£</p>
              </div>
            ` : ''}
          </div>

          <div class="space-y-6 mb-8">${sectionsHtml}</div>

          <div class="flex justify-between items-center">
            ${num > 1 
              ? `<button onclick="showChapter(${num - 1})" class="practice-btn bg-emerald-700 hover:bg-emerald-600 px-6 py-3 rounded-xl font-medium flex items-center gap-2">â† ä¸Šä¸€ç« </button>`
              : '<div></div>'}
            ${nextBtn}
          </div>
        </div>
      `;

      // Initialize games after rendering
      chapter.sections.forEach((section, sIdx) => {
        if (!section.isGame) return;
        
        if (section.gameType === 'boutique') {
          initializeBoutiqueGame(num, sIdx, section.content);
        } else if (section.gameType === 'matching') {
          initializeMatchingGame(num, sIdx, section.content);
        } else if (section.gameType === 'navigation') {
          initializeNavigationGame(num, sIdx, section.content);
        } else {
          initializeGame(num, sIdx, section.content);
        }
      });
    }

    function initializeBoutiqueGame(chapterNum, sectionIdx, gameData) {
      const gameId = `game-${chapterNum}-${sectionIdx}`;
      const gameKey = `boutique-${chapterNum}-${sectionIdx}`;
      
      if (!gameState[gameKey]) {
        gameState[gameKey] = {
          currentItem: 0,
          score: 0,
          cart: []
        };
      }
      
      renderBoutiqueGame(gameId, gameKey, gameData);
    }

    function renderBoutiqueGame(gameId, gameKey, gameData) {
      const state = gameState[gameKey];
      const container = document.getElementById(gameId);
      
      if (state.currentItem >= gameData.items.length) {
        // Game completed
        container.innerHTML = `
          <div class="text-center py-8">
            <div class="text-6xl mb-4">ğŸ‰</div>
            <h4 class="text-2xl font-bold mb-2">æ­å–œå®Œæˆï¼</h4>
            <p class="text-cyan-300 mb-4">ä½ æˆåŠŸå®Œæˆäº†æ‰€æœ‰${gameData.items.length}ä¸ªè®¢å•ï¼</p>
            <div class="bg-cyan-900/30 rounded-xl p-6 mb-6 max-w-md mx-auto">
              <p class="text-yellow-400 text-xl font-bold mb-2">å¾—åˆ†: ${state.score} / ${gameData.items.length}</p>
              <div class="text-left space-y-2 mt-4">
                <p class="text-cyan-300 font-medium mb-2">è´­ç‰©è½¦é‡Œçš„å•†å“:</p>
                ${state.cart.map(item => `
                  <div class="flex items-center gap-2 text-white">
                    <span class="text-2xl">${item.emoji}</span>
                    <span>${item.colorChinese} Â· ${item.size}å·</span>
                  </div>
                `).join('')}
              </div>
            </div>
            <button onclick="resetBoutiqueGame('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})" 
              class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 px-6 py-3 rounded-xl font-medium text-emerald-900">
              ğŸ”„ å†ç©ä¸€æ¬¡
            </button>
          </div>
        `;
        return;
      }
      
      const item = gameData.items[state.currentItem];
      const progress = `${state.currentItem + 1} / ${gameData.items.length}`;
      
      container.innerHTML = `
        <div class="mb-4 flex justify-between items-center">
          <span class="text-cyan-300">è®¢å•è¿›åº¦: ${progress}</span>
          <span class="text-yellow-400 font-bold">ğŸ›’ ${state.cart.length} ä»¶å•†å“</span>
        </div>
        
        <div class="bg-cyan-900/30 rounded-2xl p-6 mb-6 border border-cyan-700/50">
          <p class="text-cyan-300 text-sm mb-4 text-center">ğŸ‘¤ ${item.question}</p>
          
          <div class="boutique-item bg-gradient-to-br from-white/10 to-white/5 rounded-2xl p-8 mb-6 border-4 border-dashed" style="border-color: ${item.colorHex}">
            <div class="text-center">
              <div class="text-8xl mb-4">${item.emoji}</div>
              <div class="inline-block px-6 py-3 rounded-full text-white font-bold text-xl mb-3" style="background-color: ${item.colorHex}">
                ${item.colorChinese}
              </div>
              <div class="bg-white/20 rounded-xl px-6 py-3 inline-block">
                <span class="text-white font-bold text-2xl">å°ºç : ${item.size}</span>
              </div>
            </div>
          </div>
          
          <div class="space-y-3">
            <p class="text-white font-medium mb-3">è¯·é€‰æ‹©æ­£ç¡®çš„æè¿°:</p>
            ${item.options.map((opt, idx) => `
              <button onclick="selectBoutiqueOption('${gameKey}', '${gameId}', ${idx}, ${JSON.stringify(gameData).replace(/"/g, '&quot;')})"
                id="boutique-option-${idx}"
                class="w-full text-left p-4 rounded-xl bg-cyan-800/30 hover:bg-cyan-700/50 border border-cyan-700/30 transition-all">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-white font-medium malay-text mb-1">${opt.text}</p>
                    <p class="text-cyan-300 text-sm">${opt.chinese}</p>
                  </div>
                  <span class="text-2xl">ğŸ‘‰</span>
                </div>
              </button>
            `).join('')}
          </div>
        </div>
        
        <div id="boutique-feedback-${gameKey}" class="hidden"></div>
      `;
    }

    function selectBoutiqueOption(gameKey, gameId, optionIdx, gameData) {
      const state = gameState[gameKey];
      const item = gameData.items[state.currentItem];
      const selectedOption = item.options[optionIdx];
      const feedbackDiv = document.getElementById(`boutique-feedback-${gameKey}`);
      
      // Disable all buttons
      for (let i = 0; i < item.options.length; i++) {
        const btn = document.getElementById(`boutique-option-${i}`);
        if (btn) btn.disabled = true;
      }
      
      if (selectedOption.correct) {
        // Correct answer - fly to cart animation
        state.score++;
        state.cart.push(item);
        
        const selectedBtn = document.getElementById(`boutique-option-${optionIdx}`);
        selectedBtn.classList.add('bg-green-600', 'border-green-400');
        
        feedbackDiv.innerHTML = `
          <div class="bg-green-900/30 border border-green-700/50 rounded-xl p-4 text-center">
            <p class="text-green-300 font-bold text-lg mb-2">âœ… å¤ªæ£’äº†ï¼å•†å“å·²åŠ å…¥è´­ç‰©è½¦ï¼</p>
            <div class="text-6xl fly-to-cart">${item.emoji}</div>
          </div>
        `;
        feedbackDiv.classList.remove('hidden');
        
        setTimeout(() => {
          state.currentItem++;
          renderBoutiqueGame(gameId, gameKey, gameData);
        }, 1500);
        
      } else {
        // Wrong answer - shake and highlight wrong word
        const selectedBtn = document.getElementById(`boutique-option-${optionIdx}`);
        selectedBtn.classList.add('bg-red-600', 'border-red-400', 'shake');
        
        feedbackDiv.innerHTML = `
          <div class="bg-red-900/30 border border-red-700/50 rounded-xl p-4">
            <p class="text-red-300 font-bold mb-2">âŒ ä¸å¯¹å“¦ï¼</p>
            <p class="text-red-200">é”™è¯¯çš„è¯æ˜¯: <span class="font-bold text-yellow-400">"${selectedOption.wrongWord}"</span></p>
            <button onclick="retryBoutiqueItem('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})"
              class="mt-3 bg-orange-600 hover:bg-orange-500 px-6 py-2 rounded-lg font-medium text-white w-full">
              ğŸ”„ å†è¯•ä¸€æ¬¡
            </button>
          </div>
        `;
        feedbackDiv.classList.remove('hidden');
      }
    }

    function retryBoutiqueItem(gameKey, gameId, gameData) {
      renderBoutiqueGame(gameId, gameKey, gameData);
    }

    function resetBoutiqueGame(gameKey, gameId, gameData) {
      gameState[gameKey] = {
        currentItem: 0,
        score: 0,
        cart: []
      };
      
      renderBoutiqueGame(gameId, gameKey, gameData);
    }

    function initializeNavigationGame(chapterNum, sectionIdx, gameData) {
      const gameId = `game-${chapterNum}-${sectionIdx}`;
      const gameKey = `navigation-${chapterNum}-${sectionIdx}`;
      
      if (!gameState[gameKey]) {
        gameState[gameKey] = {
          currentMission: 0,
          currentStep: 0,
          score: 0,
          completedMissions: []
        };
      }
      
      renderNavigationGame(gameId, gameKey, gameData);
    }

    function renderNavigationGame(gameId, gameKey, gameData) {
      const state = gameState[gameKey];
      const container = document.getElementById(gameId);
      
      if (state.currentMission >= gameData.missions.length) {
        // All missions completed
        container.innerHTML = `
          <div class="text-center py-8">
            <div class="text-6xl mb-4">ğŸ‰</div>
            <h4 class="text-2xl font-bold mb-2">å¤ªæ£’äº†ï¼ä½ å®Œæˆäº†æ‰€æœ‰ä»»åŠ¡ï¼</h4>
            <p class="text-green-300 mb-4">ä½ æˆåŠŸå¯¼èˆªåˆ°äº†åŸå¸‚ä¸­çš„æ‰€æœ‰åœ°ç‚¹ï¼</p>
            <div class="bg-green-900/30 rounded-xl p-6 mb-6 max-w-md mx-auto">
              <p class="text-yellow-400 text-xl font-bold mb-4">å¾—åˆ†: ${state.score} / ${gameData.missions.length * 2}</p>
              <div class="text-left space-y-2">
                <p class="text-green-300 font-medium mb-2">å®Œæˆçš„ä»»åŠ¡:</p>
                ${state.completedMissions.map(mission => `
                  <div class="flex items-center gap-2 text-white">
                    <span class="text-2xl">${mission.emoji}</span>
                    <span>âœ… ${mission.name}</span>
                  </div>
                `).join('')}
              </div>
            </div>
            <button onclick="resetNavigationGame('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})" 
              class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 px-6 py-3 rounded-xl font-medium text-emerald-900">
              ğŸ”„ å†ç©ä¸€æ¬¡
            </button>
          </div>
        `;
        return;
      }
      
      const mission = gameData.missions[state.currentMission];
      const step = mission.steps[state.currentStep];
      const progress = `ä»»åŠ¡ ${state.currentMission + 1}/${gameData.missions.length} Â· æ­¥éª¤ ${state.currentStep + 1}/${mission.steps.length}`;
      
      container.innerHTML = `
        <div class="mb-4 flex justify-between items-center">
          <span class="text-green-300">${progress}</span>
          <span class="text-yellow-400 font-bold">â­ ${state.score} åˆ†</span>
        </div>
        
        <div class="bg-green-900/30 rounded-2xl p-6 mb-6 border border-green-700/50">
          <div class="text-center mb-4">
            <div class="text-6xl mb-3">${mission.emoji}</div>
            <h4 class="text-xl font-bold text-white mb-2">ç›®æ ‡: ${mission.name}</h4>
          </div>
          
          <div class="bg-emerald-900/50 rounded-xl p-4 mb-4">
            <p class="text-emerald-300 text-sm mb-2">å½“åœ°äººè¯´:</p>
            <p class="text-white text-lg font-medium malay-text mb-1">"${step.instruction}"</p>
            <p class="text-emerald-300 text-sm">(${step.instructionChinese})</p>
          </div>
          
          <div class="space-y-3">
            <p class="text-white font-medium mb-2">ä½ åº”è¯¥:</p>
            ${step.options.map((opt, idx) => `
              <button onclick="selectNavigationOption('${gameKey}', '${gameId}', ${idx}, ${JSON.stringify(gameData).replace(/"/g, '&quot;')})"
                id="nav-option-${idx}"
                class="w-full text-left p-4 rounded-xl bg-green-800/30 hover:bg-green-700/50 border border-green-700/30 transition-all flex items-center justify-between">
                <span class="text-white font-medium">${opt.text}</span>
                <span class="text-2xl">
                  ${opt.direction === 'forward' ? 'â¬†ï¸' : opt.direction === 'left' ? 'â¬…ï¸' : opt.direction === 'right' ? 'â¡ï¸' : 'ğŸ›‘'}
                </span>
              </button>

            `).join('')}
          </div>
        </div>
        
        <div id="nav-feedback-${gameKey}" class="hidden"></div>
      `;
    }

    function selectNavigationOption(gameKey, gameId, optionIdx, gameData) {
      const state = gameState[gameKey];
      const mission = gameData.missions[state.currentMission];
      const step = mission.steps[state.currentStep];
      const selectedOption = step.options[optionIdx];
      const feedbackDiv = document.getElementById(`nav-feedback-${gameKey}`);
      
      // Disable all buttons
      for (let i = 0; i < step.options.length; i++) {
        const btn = document.getElementById(`nav-option-${i}`);
        if (btn) btn.disabled = true;
      }
      
      if (selectedOption.correct) {
        // Correct answer
        state.score++;
        
        const selectedBtn = document.getElementById(`nav-option-${optionIdx}`);
        selectedBtn.classList.add('bg-green-600', 'border-green-400');
        
        // Check if this was the last step
        if (state.currentStep === mission.steps.length - 1) {
          // Mission completed
          state.completedMissions.push(mission);
          
          feedbackDiv.innerHTML = `
            <div class="bg-green-900/30 border border-green-700/50 rounded-xl p-4 text-center">
              <div class="text-4xl mb-2">${mission.emoji}</div>
              <p class="text-green-300 font-bold text-lg mb-2">âœ… å¤ªæ£’äº†ï¼ä½ æ‰¾åˆ°äº†${mission.name}ï¼</p>
              <button onclick="nextNavigationMission('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})"
                class="mt-3 bg-green-600 hover:bg-green-500 px-6 py-2 rounded-lg font-medium text-white">
                ${state.currentMission < gameData.missions.length - 1 ? 'ä¸‹ä¸€ä¸ªä»»åŠ¡ â†’' : 'æŸ¥çœ‹ç»“æœ ğŸ‰'}
              </button>
            </div>
          `;
        } else {
          // Go to next step
          feedbackDiv.innerHTML = `
            <div class="bg-green-900/30 border border-green-700/50 rounded-xl p-4 text-center">
              <p class="text-green-300 font-bold mb-2">âœ… æ­£ç¡®ï¼ç»§ç»­å‰è¿›ï¼</p>
              <button onclick="nextNavigationStep('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})"
                class="mt-2 bg-green-600 hover:bg-green-500 px-6 py-2 rounded-lg font-medium text-white">
                ç»§ç»­ â†’
              </button>
            </div>
          `;
        }
        
        feedbackDiv.classList.remove('hidden');
        
      } else {
        // Wrong answer
        const selectedBtn = document.getElementById(`nav-option-${optionIdx}`);
        selectedBtn.classList.add('bg-red-600', 'border-red-400', 'shake');
        
        feedbackDiv.innerHTML = `
          <div class="bg-red-900/30 border border-red-700/50 rounded-xl p-4">
            <p class="text-red-300 font-bold mb-2">âŒ ä¸å¯¹å“¦ï¼èµ°é”™æ–¹å‘äº†ï¼</p>
            <p class="text-red-200">å†å¬ä¸€éæŒ‡ç¤ºï¼Œé€‰æ‹©æ­£ç¡®çš„æ–¹å‘ã€‚</p>
            <button onclick="retryNavigationStep('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})"
              class="mt-3 bg-orange-600 hover:bg-orange-500 px-6 py-2 rounded-lg font-medium text-white w-full">
              ğŸ”„ å†è¯•ä¸€æ¬¡
            </button>
          </div>
        `;
        feedbackDiv.classList.remove('hidden');
      }
    }

    function nextNavigationStep(gameKey, gameId, gameData) {
      gameState[gameKey].currentStep++;
      renderNavigationGame(gameId, gameKey, gameData);
    }

    function nextNavigationMission(gameKey, gameId, gameData) {
      gameState[gameKey].currentMission++;
      gameState[gameKey].currentStep = 0;
      renderNavigationGame(gameId, gameKey, gameData);
    }

    function retryNavigationStep(gameKey, gameId, gameData) {
      renderNavigationGame(gameId, gameKey, gameData);
    }

    function resetNavigationGame(gameKey, gameId, gameData) {
      gameState[gameKey] = {
        currentMission: 0,
        currentStep: 0,
        score: 0,
        completedMissions: []
      };
      renderNavigationGame(gameId, gameKey, gameData);
    }

    function initializeMatchingGame(chapterNum, sectionIdx, gameData) {
      const gameId = `game-${chapterNum}-${sectionIdx}`;
      const gameKey = `matching-${chapterNum}-${sectionIdx}`;
      
      if (!gameState[gameKey]) {
        // Shuffle and create cards
        const malayCards = gameData.pairs.map(p => ({ id: `m-${p.id}`, text: p.malay, pairId: p.id, type: 'malay' }));
        const chineseCards = gameData.pairs.map(p => ({ id: `c-${p.id}`, text: p.chinese, pairId: p.id, type: 'chinese' }));
        
        gameState[gameKey] = {
          malayCards: shuffleArray([...malayCards]),
          chineseCards: shuffleArray([...chineseCards]),
          selected: null,
          matched: new Set(),
          attempts: 0
        };
      }
      
      renderMatchingGame(gameId, gameKey, gameData);
    }

    function shuffleArray(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function renderMatchingGame(gameId, gameKey, gameData) {
      const state = gameState[gameKey];
      const container = document.getElementById(gameId);
      
      if (state.matched.size === gameData.pairs.length) {
        // Game completed
        container.innerHTML = `
          <div class="text-center py-8">
            <div class="text-6xl mb-4">ğŸ‰</div>
            <h4 class="text-2xl font-bold mb-2">å¤ªæ£’äº†ï¼</h4>
            <p class="text-purple-300 mb-4">ä½ æˆåŠŸé…å¯¹äº†æ‰€æœ‰${gameData.pairs.length}ç»„è¯æ±‡ï¼</p>
            <p class="text-yellow-400 text-xl font-bold mb-6">æ€»å°è¯•æ¬¡æ•°: ${state.attempts}</p>
            <button onclick="resetMatchingGame('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})" 
              class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 px-6 py-3 rounded-xl font-medium text-emerald-900">
              ğŸ”„ å†ç©ä¸€æ¬¡
            </button>
          </div>
        `;
        return;
      }
      
      container.innerHTML = `
        <div class="mb-4 flex justify-between items-center">
          <span class="text-purple-300">ç‚¹å‡»å¡ç‰‡è¿›è¡Œé…å¯¹</span>
          <span class="text-yellow-400 font-bold">âœ… ${state.matched.size} / ${gameData.pairs.length} å·²é…å¯¹</span>
        </div>
        
        <div class="grid grid-cols-2 gap-4">
          <!-- Malay column -->
          <div class="space-y-2">
            <p class="text-center text-purple-300 font-medium mb-2">é©¬æ¥è¯­</p>
            ${state.malayCards.map(card => {
              const isMatched = state.matched.has(card.pairId);
              const isSelected = state.selected?.id === card.id;
              return `
                <button 
                  onclick="selectMatchCard('${gameKey}', '${gameId}', ${JSON.stringify(card).replace(/"/g, '&quot;')}, ${JSON.stringify(gameData).replace(/"/g, '&quot;')})"
                  class="w-full p-4 rounded-xl font-medium malay-text transition-all ${
                    isMatched 
                      ? 'bg-green-600 text-white cursor-default opacity-50' 
                      : isSelected 
                        ? 'bg-purple-500 text-white ring-4 ring-yellow-400' 
                        : 'bg-purple-800/50 hover:bg-purple-700/50 text-white'
                  }"
                  ${isMatched ? 'disabled' : ''}>
                  ${card.text}
                </button>
              `;
            }).join('')}
          </div>
          
          <!-- Chinese column -->
          <div class="space-y-2">
            <p class="text-center text-purple-300 font-medium mb-2">ä¸­æ–‡</p>
            ${state.chineseCards.map(card => {
              const isMatched = state.matched.has(card.pairId);
              const isSelected = state.selected?.id === card.id;
              return `
                <button 
                  onclick="selectMatchCard('${gameKey}', '${gameId}', ${JSON.stringify(card).replace(/"/g, '&quot;')}, ${JSON.stringify(gameData).replace(/"/g, '&quot;')})"
                  class="w-full p-4 rounded-xl font-medium transition-all ${
                    isMatched 
                      ? 'bg-green-600 text-white cursor-default opacity-50' 
                      : isSelected 
                        ? 'bg-orange-500 text-white ring-4 ring-yellow-400' 
                        : 'bg-orange-800/50 hover:bg-orange-700/50 text-white'
                  }"
                  ${isMatched ? 'disabled' : ''}>
                  ${card.text}
                </button>
              `;
            }).join('')}
          </div>
        </div>
        
        <div id="match-feedback-${gameKey}" class="mt-4 hidden"></div>
      `;
    }

    function selectMatchCard(gameKey, gameId, card, gameData) {
      const state = gameState[gameKey];
      const feedbackDiv = document.getElementById(`match-feedback-${gameKey}`);
      
      // If no card selected yet, select this one
      if (!state.selected) {
        state.selected = card;
        renderMatchingGame(gameId, gameKey, gameData);
        return;
      }
      
      // If same card clicked, deselect
      if (state.selected.id === card.id) {
        state.selected = null;
        renderMatchingGame(gameId, gameKey, gameData);
        return;
      }
      
      // If both cards are same type, deselect and select new
      if (state.selected.type === card.type) {
        state.selected = card;
        renderMatchingGame(gameId, gameKey, gameData);
        return;
      }
      
      // Check if it's a match
      state.attempts++;
      
      if (state.selected.pairId === card.pairId) {
        // Match found!
        state.matched.add(card.pairId);
        state.selected = null;
        
        feedbackDiv.innerHTML = `
          <div class="bg-green-900/30 border border-green-700/50 rounded-xl p-3 text-center">
            <p class="text-green-300 font-bold">âœ… é…å¯¹æˆåŠŸï¼</p>
          </div>
        `;
        feedbackDiv.classList.remove('hidden');
        
        setTimeout(() => {
          feedbackDiv.classList.add('hidden');
          renderMatchingGame(gameId, gameKey, gameData);
        }, 1000);
      } else {
        // No match
        const firstCard = state.selected;
        state.selected = null;
        
        feedbackDiv.innerHTML = `
          <div class="bg-red-900/30 border border-red-700/50 rounded-xl p-3 text-center">
            <p class="text-red-300 font-bold">âŒ ä¸åŒ¹é…ï¼Œå†è¯•ä¸€æ¬¡</p>
          </div>
        `;
        feedbackDiv.classList.remove('hidden');
        
        setTimeout(() => {
          feedbackDiv.classList.add('hidden');
          renderMatchingGame(gameId, gameKey, gameData);
        }, 1000);
      }
    }

    function resetMatchingGame(gameKey, gameId, gameData) {
      const malayCards = gameData.pairs.map(p => ({ id: `m-${p.id}`, text: p.malay, pairId: p.id, type: 'malay' }));
      const chineseCards = gameData.pairs.map(p => ({ id: `c-${p.id}`, text: p.chinese, pairId: p.id, type: 'chinese' }));
      
      gameState[gameKey] = {
        malayCards: shuffleArray([...malayCards]),
        chineseCards: shuffleArray([...chineseCards]),
        selected: null,
        matched: new Set(),
        attempts: 0
      };
      
      renderMatchingGame(gameId, gameKey, gameData);
    }

    function initializeGame(chapterNum, sectionIdx, gameData) {
      const gameId = `game-${chapterNum}-${sectionIdx}`;
      const gameKey = `${chapterNum}-${sectionIdx}`;
      
      if (!gameState[gameKey]) {
        gameState[gameKey] = {
          currentScenario: 0,
          score: 0,
          completed: []
        };
      }
      
      renderGameScenario(gameId, gameKey, gameData);
    }

    function renderGameScenario(gameId, gameKey, gameData) {
      const state = gameState[gameKey];
      const container = document.getElementById(gameId);
      
      if (state.currentScenario >= gameData.scenarios.length) {
        // Game completed
        container.innerHTML = `
          <div class="text-center py-8">
            <div class="text-6xl mb-4">ğŸ‰</div>
            <h4 class="text-2xl font-bold mb-2">æ­å–œå®Œæˆï¼</h4>
            <p class="text-emerald-300 mb-4">ä½ æˆåŠŸå®Œæˆäº†æ‰€æœ‰æœºåœºæƒ…æ™¯ï¼</p>
            <p class="text-yellow-400 text-xl font-bold mb-6">å¾—åˆ†: ${state.score} / ${gameData.scenarios.length}</p>
            <button onclick="resetGame('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})" 
              class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 px-6 py-3 rounded-xl font-medium text-emerald-900">
              ğŸ”„ å†ç©ä¸€æ¬¡
            </button>
          </div>
        `;
        return;
      }
      
      const scenario = gameData.scenarios[state.currentScenario];
      
      container.innerHTML = `
        <div class="mb-4">
          <div class="flex justify-between items-center mb-4">
            <span class="text-blue-300">æƒ…æ™¯ ${state.currentScenario + 1} / ${gameData.scenarios.length}</span>
            <span class="text-yellow-400 font-bold">âœ¨ ${state.score} åˆ†</span>
          </div>
          <div class="bg-blue-900/50 rounded-xl p-4 mb-4 border border-blue-700/30">
            <p class="text-white text-lg mb-2">ğŸ“ ${scenario.situation}</p>
            <p class="text-blue-300 font-medium">${scenario.question}</p>
          </div>
        </div>
        
        <div class="space-y-3" id="${gameId}-options">
          ${scenario.options.map((opt, idx) => `
            <button onclick="selectGameOption('${gameKey}', '${gameId}', ${idx}, ${JSON.stringify(gameData).replace(/"/g, '&quot;')})" 
              class="game-option w-full text-left p-4 rounded-xl bg-blue-900/50 hover:bg-blue-800/50 transition-all border border-blue-700/30 text-white font-medium malay-text">
              ${opt.text}
            </button>
          `).join('')}
        </div>
        
        <div id="${gameId}-feedback" class="mt-4 hidden"></div>
      `;
    }

    function selectGameOption(gameKey, gameId, optionIdx, gameData) {
      const state = gameState[gameKey];
      const scenario = gameData.scenarios[state.currentScenario];
      const selectedOption = scenario.options[optionIdx];
      const feedbackDiv = document.getElementById(`${gameId}-feedback`);
      const optionsDiv = document.getElementById(`${gameId}-options`);
      
      // Disable all options
      const buttons = optionsDiv.querySelectorAll('button');
      buttons.forEach(btn => btn.disabled = true);
      
      if (selectedOption.isCorrect) {
        state.score++;
        buttons[optionIdx].classList.add('bg-green-600', 'border-green-400');
        
        feedbackDiv.innerHTML = `
          <div class="bg-green-900/30 border border-green-700/50 rounded-xl p-4">
            <p class="text-green-300 font-bold mb-2">${scenario.correctFeedback}</p>
            <button onclick="nextScenario('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})" 
              class="mt-3 bg-green-600 hover:bg-green-500 px-6 py-2 rounded-lg font-medium text-white">
              ç»§ç»­ â†’
            </button>
          </div>
        `;
      } else {
        buttons[optionIdx].classList.add('bg-red-600', 'border-red-400');
        
        feedbackDiv.innerHTML = `
          <div class="bg-red-900/30 border border-red-700/50 rounded-xl p-4">
            <p class="text-red-300 font-bold mb-2">${scenario.wrongFeedback}</p>
            <button onclick="retryScenario('${gameKey}', '${gameId}', ${JSON.stringify(gameData).replace(/"/g, '&quot;')})" 
              class="mt-3 bg-orange-600 hover:bg-orange-500 px-6 py-2 rounded-lg font-medium text-white">
              ğŸ”„ å†è¯•ä¸€æ¬¡
            </button>
          </div>
        `;
      }
      
      feedbackDiv.classList.remove('hidden');
    }

    function nextScenario(gameKey, gameId, gameData) {
      gameState[gameKey].currentScenario++;
      renderGameScenario(gameId, gameKey, gameData);
    }

    function retryScenario(gameKey, gameId, gameData) {
      renderGameScenario(gameId, gameKey, gameData);
    }

    function resetGame(gameKey, gameId, gameData) {
      gameState[gameKey] = {
        currentScenario: 0,
        score: 0,
        completed: []
      };
      renderGameScenario(gameId, gameKey, gameData);
    }

    function markLearned(chapterNum, sectionIdx, itemIdx, element) {
      element.classList.add('ring-2', 'ring-yellow-400/50');
      
      // Update progress
      const chapter = chapters[chapterNum];
      const totalItems = chapter.sections.reduce((sum, s) => sum + s.content.length, 0);
      progress.chapters[chapterNum] = Math.min(100, progress.chapters[chapterNum] + Math.ceil(100 / totalItems));
      progress.wordsLearned++;
      saveProgress();
    }

    // Exercise answer checking
    const exerciseScores = {};
    
    function checkAnswer(chapterNum, sectionIdx, itemIdx, selectedAnswer, button) {
      const chapter = chapters[chapterNum];
      const section = chapter.sections[sectionIdx];
      const item = section.content[itemIdx];
      const feedbackDiv = document.getElementById(`feedback-${chapterNum}-${sectionIdx}-${itemIdx}`);
      const exerciseDiv = document.getElementById(`exercise-${chapterNum}-${sectionIdx}-${itemIdx}`);
      const scoreKey = `${chapterNum}-${sectionIdx}`;
      
      // Initialize score if not exists
      if (!exerciseScores[scoreKey]) {
        exerciseScores[scoreKey] = 0;
      }
      
      // Disable all buttons in this question
      const allButtons = exerciseDiv.querySelectorAll('button');
      allButtons.forEach(btn => {
        btn.disabled = true;
        btn.classList.remove('hover:bg-emerald-700/50');
        btn.classList.add('opacity-60', 'cursor-not-allowed');
      });
      
      // Check if answer is correct
      const isCorrect = selectedAnswer === item.correct;
      
      if (isCorrect) {
        button.classList.add('bg-green-600', 'border-green-400');
        feedbackDiv.innerHTML = `
          <div class="flex items-start gap-2 text-green-300">
            <span class="text-xl">âœ…</span>
            <div>
              <p class="font-bold mb-1">æ­£ç¡®ï¼</p>
              <p class="text-sm">${item.explanation}</p>
            </div>
          </div>
        `;
        feedbackDiv.classList.remove('hidden');
        feedbackDiv.classList.add('bg-green-900/30', 'border', 'border-green-700/50');
        
        // Update score
        exerciseScores[scoreKey]++;
        document.getElementById(`score-${chapterNum}-${sectionIdx}`).textContent = exerciseScores[scoreKey];
        
        // Update progress
        progress.wordsLearned++;
        progress.sentencesLearned++;
        saveProgress();
      } else {
        button.classList.add('bg-red-600', 'border-red-400');
        
        // Highlight correct answer
        allButtons.forEach(btn => {
          const btnAnswer = btn.textContent.trim().charAt(0);
          if (btnAnswer === item.correct) {
            btn.classList.add('bg-green-600', 'border-green-400');
          }
        });
        
        feedbackDiv.innerHTML = `
          <div class="flex items-start gap-2 text-red-300">
            <span class="text-xl">âŒ</span>
            <div>
              <p class="font-bold mb-1">ä¸æ­£ç¡®</p>
              <p class="text-sm">æ­£ç¡®ç­”æ¡ˆæ˜¯ <span class="font-bold text-green-400">${item.correct}</span>. ${item.explanation}</p>
            </div>
          </div>
        `;
        feedbackDiv.classList.remove('hidden');
        feedbackDiv.classList.add('bg-red-900/30', 'border', 'border-red-700/50');
      }
    }

    function speak(text) {
      if ('speechSynthesis' in window) {
        try {
          const utterance = new SpeechSynthesisUtterance(text);
          utterance.lang = 'ms-MY';
          utterance.rate = 0.8;
          speechSynthesis.speak(utterance);
        } catch (e) {
          console.warn('Speech synthesis failed:', e);
        }
      }
    }

    function renderProgressView() {
      const chaptersContainer = document.getElementById('progress-chapters');
      const chapterNames = ['é©¬æ¥è¯­ç®€ä»‹','è‡ªæˆ‘ä»‹ç»','æœºåœºä¸äº¤é€š','é…’åº—','é¤å…ä¸ç¾é£Ÿ','è´­ç‰©ä¸è®¨ä»·è¿˜ä»·','æ–¹å‘ä¸ä½ç½®','ç´§æ€¥æƒ…å†µä¸å¥åº·','æ–‡åŒ–ä¸ç¤¼ä»ª'];
      const icons = ['ğŸ“š', 'ğŸ‘‹', 'âœˆï¸', 'ğŸ¨', 'ğŸœ', 'ğŸ›ï¸', 'ğŸ—ºï¸', 'ğŸš‘', 'ğŸ­'];
      
      chaptersContainer.innerHTML = [1, 2, 3, 4, 5, 6, 7, 8, 9].map(num => `
        <div class="flex items-center gap-4">
          <div class="w-10 h-10 bg-emerald-700 rounded-lg flex items-center justify-center text-lg">
            ${icons[num - 1]}
          </div>
          <div class="flex-1">
            <div class="flex justify-between items-center mb-1">
              <span class="font-medium">${chapterNames[num - 1]}</span>
              <span class="text-emerald-300 text-sm">${progress.chapters[num]}%</span>
            </div>
            <div class="h-2 bg-emerald-900 rounded-full overflow-hidden">
              <div class="h-full bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full transition-all" style="width: ${progress.chapters[num]}%"></div>
            </div>
          </div>
        </div>
      `).join('');

      // Update overall progress
      const totalProgress = Object.values(progress.chapters).reduce((a, b) => a + b, 0) / 9;
      const progressRing = document.getElementById('progress-ring');
      const circumference = 2 * Math.PI * 70;
      const offset = circumference - (totalProgress / 100) * circumference;
      progressRing.style.strokeDashoffset = offset;
      
      document.getElementById('progress-percent').textContent = Math.round(totalProgress) + '%';
      document.getElementById('words-learned').textContent = progress.wordsLearned;
      document.getElementById('sentences-learned').textContent = Math.floor(progress.wordsLearned / 3);
    }

    function renderChapter8Mindmap() {
      return `
        <div class="space-y-8">
          <!-- Header -->
          <div class="text-center mb-8">
            <span class="inline-block bg-red-600/30 px-4 py-2 rounded-full text-red-300 text-sm mb-4">ğŸ¥ ç¬¬8ç«  Â· æ€ç»´å¯¼å›¾</span>
            <h1 class="text-3xl md:text-4xl font-bold mb-2">ç´§æ€¥æƒ…å†µä¸å¥åº·</h1>
            <p class="poppins text-xl text-red-200">Kecemasan & Kesihatan</p>
          </div>

          <!-- Mind Map -->
          <div class="bg-gradient-to-br from-red-900/50 to-red-800/30 rounded-3xl p-6 md:p-8 border border-red-700/30">
            
            <!-- Emergency Numbers -->
            <div class="bg-red-600/40 rounded-2xl p-5 mb-8 border border-red-500/50">
              <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                <span class="text-2xl">ğŸ“</span> ç´§æ€¥ç”µè¯ Nombor Kecemasan
              </h3>
              <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-red-900/50 rounded-xl p-4 text-center">
                  <div class="text-3xl font-bold poppins text-red-300">999</div>
                  <p class="text-sm mt-1">è­¦å¯Ÿ/æ•‘æŠ¤è½¦/æ¶ˆé˜²</p>
                </div>
                <div class="bg-red-900/50 rounded-xl p-4 text-center">
                  <div class="text-3xl font-bold poppins text-red-300">991</div>
                  <p class="text-sm mt-1">æ¶ˆé˜² Bomba</p>
                </div>
                <div class="bg-red-900/50 rounded-xl p-4 text-center">
                  <div class="text-3xl font-bold poppins text-red-300">994</div>
                  <p class="text-sm mt-1">æ°‘é˜² Civil Defence</p>
                </div>
                <div class="bg-red-900/50 rounded-xl p-4 text-center">
                  <div class="text-2xl font-bold poppins text-red-300">112</div>
                  <p class="text-sm mt-1">ç´§æ€¥æ±‚åŠ©</p>
                </div>
              </div>
            </div>

            <!-- Central Hub -->
            <div class="flex flex-col items-center">
              <div class="mindmap-node bg-gradient-to-br from-red-500 to-red-600 rounded-2xl px-8 py-4 text-center shadow-lg mb-8">
                <div class="text-3xl mb-2">ğŸ†˜</div>
                <h2 class="text-xl font-bold">ç´§æ€¥æ±‚åŠ©</h2>
                <p class="poppins text-red-200 text-sm">Kecemasan</p>
              </div>

              <!-- Four Branches -->
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full">
                
                <!-- Branch 1: Asking for Help -->
                <div class="mindmap-node space-y-4" style="animation-delay: 0.1s">
                  <div class="bg-orange-600/80 rounded-xl p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ™‹</div>
                    <h3 class="font-bold">æ±‚åŠ©</h3>
                    <p class="poppins text-orange-200 text-sm">Meminta Tolong</p>
                  </div>
                  <div class="space-y-2 pl-4 border-l-4 border-orange-500/50">
                    <div class="bg-orange-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium text-orange-300">Tolong!</p>
                      <p class="text-sm text-orange-200">æ•‘å‘½ï¼</p>
                    </div>
                    <div class="bg-orange-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Saya perlukan bantuan.</p>
                      <p class="text-sm text-orange-200">æˆ‘éœ€è¦å¸®åŠ©ã€‚</p>
                    </div>
                    <div class="bg-orange-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Panggil polis!</p>
                      <p class="text-sm text-orange-200">å«è­¦å¯Ÿï¼</p>
                    </div>
                    <div class="bg-orange-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Ada kecemasan!</p>
                      <p class="text-sm text-orange-200">æœ‰ç´§æ€¥æƒ…å†µï¼</p>
                    </div>
                  </div>
                </div>

                <!-- Branch 2: Lost Items -->
                <div class="mindmap-node space-y-4" style="animation-delay: 0.2s">
                  <div class="bg-amber-600/80 rounded-xl p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ“±</div>
                    <h3 class="font-bold">å¤±ç‰©æŠ¥å‘Š</h3>
                    <p class="poppins text-amber-200 text-sm">Melaporkan Kehilangan</p>
                  </div>
                  <div class="space-y-2 pl-4 border-l-4 border-amber-500/50">
                    <div class="bg-amber-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Saya kehilangan...</p>
                      <p class="text-sm text-amber-200">æˆ‘ä¸¢å¤±äº†...</p>
                    </div>
                    <div class="bg-amber-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">pasport æŠ¤ç…§</p>
                    </div>
                    <div class="bg-amber-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">dompet é’±åŒ…</p>
                    </div>
                    <div class="bg-amber-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">telefon bimbit æ‰‹æœº</p>
                    </div>
                    <div class="bg-amber-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Di mana balai polis?</p>
                      <p class="text-sm text-amber-200">è­¦å¯Ÿå±€åœ¨å“ªé‡Œï¼Ÿ</p>
                    </div>
                  </div>
                </div>

                <!-- Branch 3: Hospital/Clinic -->
                <div class="mindmap-node space-y-4" style="animation-delay: 0.3s">
                  <div class="bg-emerald-600/80 rounded-xl p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ¥</div>
                    <h3 class="font-bold">åŒ»é™¢/è¯Šæ‰€</h3>
                    <p class="poppins text-emerald-200 text-sm">Hospital/Klinik</p>
                  </div>
                  <div class="space-y-2 pl-4 border-l-4 border-emerald-500/50">
                    <div class="bg-emerald-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Saya sakit.</p>
                      <p class="text-sm text-emerald-200">æˆ‘ç”Ÿç—…äº†ã€‚</p>
                    </div>
                    <div class="bg-emerald-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Di mana hospital?</p>
                      <p class="text-sm text-emerald-200">åŒ»é™¢åœ¨å“ªé‡Œï¼Ÿ</p>
                    </div>
                    <div class="bg-emerald-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Saya perlukan doktor.</p>
                      <p class="text-sm text-emerald-200">æˆ‘éœ€è¦åŒ»ç”Ÿã€‚</p>
                    </div>
                    <div class="bg-emerald-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Ia sangat sakit di sini.</p>
                      <p class="text-sm text-emerald-200">è¿™é‡Œå¾ˆç—›ã€‚</p>
                    </div>
                  </div>
                </div>

                <!-- Branch 4: Pharmacy -->
                <div class="mindmap-node space-y-4" style="animation-delay: 0.4s">
                  <div class="bg-cyan-600/80 rounded-xl p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ’Š</div>
                    <h3 class="font-bold">è¯æˆ¿</h3>
                    <p class="poppins text-cyan-200 text-sm">Farmasi</p>
                  </div>
                  <div class="space-y-2 pl-4 border-l-4 border-cyan-500/50">
                    <div class="bg-cyan-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Di mana farmasi?</p>
                      <p class="text-sm text-cyan-200">è¯æˆ¿åœ¨å“ªé‡Œï¼Ÿ</p>
                    </div>
                    <div class="bg-cyan-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">Saya perlukan ubat...</p>
                      <p class="text-sm text-cyan-200">æˆ‘éœ€è¦...è¯</p>
                    </div>
                    <div class="bg-cyan-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">demam å‘çƒ§ | batuk å’³å—½</p>
                    </div>
                    <div class="bg-cyan-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">sakit kepala å¤´ç—›</p>
                    </div>
                    <div class="bg-cyan-800/40 rounded-lg p-3">
                      <p class="poppins text-sm font-medium">cirit-birit è…¹æ³»</p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Symptoms Reference -->
              <div class="w-full mt-8 bg-red-800/30 rounded-2xl p-5 border border-red-600/30">
                <h3 class="font-bold mb-4 flex items-center gap-2">
                  <span class="text-xl">ğŸ¤’</span> å¸¸è§ç—‡çŠ¶ Simptom Biasa
                </h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                  <div class="bg-red-900/50 rounded-lg p-3 text-center">
                    <span class="text-2xl">ğŸ¤•</span>
                    <p class="poppins text-sm font-medium mt-1">Sakit kepala</p>
                    <p class="text-xs text-red-300">å¤´ç—›</p>
                  </div>
                  <div class="bg-red-900/50 rounded-lg p-3 text-center">
                    <span class="text-2xl">ğŸ¤§</span>
                    <p class="poppins text-sm font-medium mt-1">Selsema</p>
                    <p class="text-xs text-red-300">æ„Ÿå†’</p>
                  </div>
                  <div class="bg-red-900/50 rounded-lg p-3 text-center">
                    <span class="text-2xl">ğŸ¤®</span>
                    <p class="poppins text-sm font-medium mt-1">Muntah</p>
                    <p class="text-xs text-red-300">å‘•å</p>
                  </div>
                  <div class="bg-red-900/50 rounded-lg p-3 text-center">
                    <span class="text-2xl">ğŸ˜°</span>
                    <p class="poppins text-sm font-medium mt-1">Alahan</p>
                    <p class="text-xs text-red-300">è¿‡æ•</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Navigation -->
          <div class="flex justify-between items-center pt-6">
            <button onclick="showChapter(7)" class="flex items-center gap-2 bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition">
              â† ä¸Šä¸€ç« 
            </button>
            <button onclick="showChapter(9)" class="flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 px-4 py-2 rounded-lg transition">
              ä¸‹ä¸€ç« ï¼šæ–‡åŒ–ç¤¼ä»ª â†’
            </button>
          </div>
        </div>
      `;
    }

    function renderChapter9() {
      return `
        <div class="space-y-8">
          <!-- Header -->
          <div class="text-center mb-8">
            <span class="inline-block bg-indigo-600/30 px-4 py-2 rounded-full text-indigo-300 text-sm mb-4">ğŸ­ ç¬¬9ç«  Â· æ–‡åŒ–æŒ‡å—</span>
            <h1 class="text-3xl md:text-4xl font-bold mb-2">é©¬æ¥è¥¿äºšæ–‡åŒ–ä¸äº¤é™…ç¤¼ä»ª</h1>
            <p class="poppins text-xl text-indigo-200">Budaya & Etika Komunikasi Malaysia</p>
          </div>

          <!-- Content -->
          <div class="bg-gradient-to-br from-indigo-900/50 to-indigo-800/30 rounded-3xl p-6 md:p-8 border border-indigo-700/30">
            
            <!-- Section 1: Taboos -->
            <div class="mb-10">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-12 h-12 bg-rose-600 rounded-xl flex items-center justify-center text-2xl">âš ï¸</div>
                <div>
                  <h2 class="text-xl font-bold">ç¦å¿Œäº‹é¡¹ Pantang Larang</h2>
                </div>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-rose-800/40 rounded-xl p-5 border border-rose-600/30">
                  <div class="space-y-4">
                    <div class="flex items-start gap-3">
                      <span class="text-2xl">ğŸ¤š</span>
                      <div>
                        <p class="font-medium">ä¸è¦ç”¨å·¦æ‰‹é€’ä¸œè¥¿</p>
                        <p class="text-sm text-rose-200">å·¦æ‰‹è¢«è®¤ä¸ºä¸æ´ï¼Œç”¨å³æ‰‹æˆ–åŒæ‰‹</p>
                      </div>
                    </div>
                    <div class="flex items-start gap-3">
                      <span class="text-2xl">ğŸ¦¶</span>
                      <div>
                        <p class="font-medium">ä¸è¦ç”¨è„šæŒ‡å‘äººæˆ–ç‰©</p>
                        <p class="text-sm text-rose-200">è„šè¢«è®¤ä¸ºæ˜¯èº«ä½“æœ€ä½éƒ¨ä½</p>
                      </div>
                    </div>
                    <div class="flex items-start gap-3">
                      <span class="text-2xl">ğŸ‘†</span>
                      <div>
                        <p class="font-medium">ä¸è¦ç”¨é£ŸæŒ‡æŒ‡äºº</p>
                        <p class="text-sm text-rose-200">ç”¨æ‹‡æŒ‡æŒ‡å‘æ›´ç¤¼è²Œ</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="bg-rose-800/40 rounded-xl p-5 border border-rose-600/30">
                  <div class="space-y-4">
                    <div class="flex items-start gap-3">
                      <span class="text-2xl">ğŸ‘¤</span>
                      <div>
                        <p class="font-medium">ä¸è¦è§¦æ‘¸ä»–äººå¤´éƒ¨</p>
                        <p class="text-sm text-rose-200">å¤´éƒ¨è¢«è®¤ä¸ºæ˜¯ç¥åœ£çš„</p>
                      </div>
                    </div>
                    <div class="flex items-start gap-3">
                      <span class="text-2xl">ğŸ•Œ</span>
                      <div>
                        <p class="font-medium">è¿›å…¥å®—æ•™åœºæ‰€è¦è„±é‹</p>
                        <p class="text-sm text-rose-200">æ¸…çœŸå¯ºã€å¯ºåº™ã€å°åº¦åº™</p>
                      </div>
                    </div>
                    <div class="flex items-start gap-3">
                      <span class="text-2xl">ğŸ–</span>
                      <div>
                        <p class="font-medium">å°Šé‡é¥®é£Ÿä¹ æƒ¯</p>
                        <p class="text-sm text-rose-200">ç©†æ–¯æ—ä¸åƒçŒªè‚‰ï¼Œå°åº¦æ•™å¾’ä¸åƒç‰›è‚‰</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Section 2: Dining Etiquette -->
            <div class="mb-10">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center text-2xl">ğŸ½ï¸</div>
                <div>
                  <h2 class="text-xl font-bold">é¤æ¡Œç¤¼ä»ª Adab Makan</h2>
                </div>
              </div>
              <div class="bg-amber-800/30 rounded-2xl p-6 border border-amber-600/30">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div class="bg-amber-900/50 rounded-xl p-4 text-center">
                    <span class="text-3xl mb-3 block">ğŸ¤²</span>
                    <h4 class="font-semibold mb-2">ç”¨æ‰‹è¿›é£Ÿ</h4>
                    <p class="text-sm text-amber-200">é©¬æ¥ä¼ ç»Ÿç”¨å³æ‰‹æŠ“é¥­åƒï¼Œä½†é¤å…·ä¹Ÿæ™®é</p>
                  </div>
                  <div class="bg-amber-900/50 rounded-xl p-4 text-center">
                    <span class="text-3xl mb-3 block">ğŸ¥¢</span>
                    <h4 class="font-semibold mb-2">ç­·å­ç¤¼ä»ª</h4>
                    <p class="text-sm text-amber-200">åäººé¤å…ç”¨ç­·å­ï¼Œä¸è¦å°†ç­·å­æ’åœ¨é¥­é‡Œ</p>
                  </div>
                  <div class="bg-amber-900/50 rounded-xl p-4 text-center">
                    <span class="text-3xl mb-3 block">ğŸµ</span>
                    <h4 class="font-semibold mb-2">å…±äº«æ–‡åŒ–</h4>
                    <p class="text-sm text-amber-200">é©¬æ¥è¥¿äºšäººå–œæ¬¢åˆ†äº«é£Ÿç‰©ï¼Œè¿™æ˜¯å‹å¥½çš„è¡¨ç°</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Section 3: Dress Code -->
            <div class="mb-10">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-12 h-12 bg-violet-600 rounded-xl flex items-center justify-center text-2xl">ğŸ‘”</div>
                <div>
                  <h2 class="text-xl font-bold">ç€è£…å»ºè®® Cara Berpakaian</h2>
                </div>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-violet-800/40 rounded-xl p-5 border border-violet-600/30">
                  <h4 class="font-semibold mb-3 flex items-center gap-2">
                    <span>âœ…</span> æ¨èç©¿ç€
                  </h4>
                  <div class="space-y-2">
                    <div class="bg-violet-900/50 rounded-lg p-3 text-sm">
                      <p>â€¢ è½»ä¾¿ã€é€æ°”çš„è¡£ç‰©ï¼ˆçƒ­å¸¦æ°”å€™ï¼‰</p>
                    </div>
                    <div class="bg-violet-900/50 rounded-lg p-3 text-sm">
                      <p>â€¢ å‚è§‚å®—æ•™åœºæ‰€æ—¶ç©¿é•¿è£¤/é•¿è£™</p>
                    </div>
                    <div class="bg-violet-900/50 rounded-lg p-3 text-sm">
                      <p>â€¢ å¥³æ€§å¯å¸¦å›´å·¾é®ç›–è‚©è†€</p>
                    </div>
                  </div>
                </div>
                <div class="bg-violet-800/40 rounded-xl p-5 border border-violet-600/30">
                  <h4 class="font-semibold mb-3 flex items-center gap-2">
                    <span>âŒ</span> é¿å…ç©¿ç€
                  </h4>
                  <div class="space-y-2">
                    <div class="bg-violet-900/50 rounded-lg p-3 text-sm">
                      <p>â€¢ å®—æ•™åœºæ‰€ç¦æ­¢çŸ­è£¤/çŸ­è£™</p>
                    </div>
                    <div class="bg-violet-900/50 rounded-lg p-3 text-sm">
                      <p>â€¢ æ”¿åºœæœºæ„é¿å…å¤ªæš´éœ²çš„æœè£…</p>
                    </div>
                    <div class="bg-violet-900/50 rounded-lg p-3 text-sm">
                      <p>â€¢ æ­£å¼åœºåˆé¿å…æ‹–é‹</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Section 4: Multicultural Society -->
            <div>
              <div class="flex items-center gap-3 mb-6">
                <div class="w-12 h-12 bg-emerald-600 rounded-xl flex items-center justify-center text-2xl">ğŸŒ</div>
                <div>
                  <h2 class="text-xl font-bold">å¤šå…ƒæ–‡åŒ–ç¤¾ä¼š Masyarakat Majmuk</h2>
                </div>
              </div>
              <div class="bg-emerald-800/30 rounded-2xl p-6 border border-emerald-600/30">
                <p class="text-emerald-200 mb-6">é©¬æ¥è¥¿äºšæ˜¯ä¸€ä¸ªå¤šå…ƒç§æ—ã€å¤šå…ƒå®—æ•™çš„å›½å®¶ï¼Œä¸»è¦ç”±ä¸‰å¤§æ°‘æ—ç»„æˆï¼š</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div class="bg-emerald-900/50 rounded-xl p-5 text-center">
                    <span class="text-4xl mb-3 block">ğŸ•Œ</span>
                    <h4 class="font-bold text-lg mb-2">é©¬æ¥äºº Melayu</h4>
                    <p class="text-sm text-emerald-200 mb-2">çº¦60%äººå£</p>
                    <p class="text-xs text-emerald-300">ä¿¡ä»°ä¼Šæ–¯å…°æ•™ï¼Œä¸»è¦èŠ‚æ—¥ï¼šå¼€æ–‹èŠ‚ Hari Raya</p>
                  </div>
                  <div class="bg-emerald-900/50 rounded-xl p-5 text-center">
                    <span class="text-4xl mb-3 block">ğŸ®</span>
                    <h4 class="font-bold text-lg mb-2">åäºº Cina</h4>
                    <p class="text-sm text-emerald-200 mb-2">çº¦23%äººå£</p>
                    <p class="text-xs text-emerald-300">ä½›æ•™/é“æ•™/åŸºç£æ•™ï¼Œä¸»è¦èŠ‚æ—¥ï¼šå†œå†æ–°å¹´</p>
                  </div>
                  <div class="bg-emerald-900/50 rounded-xl p-5 text-center">
                    <span class="text-4xl mb-3 block">ğŸª·</span>
                    <h4 class="font-bold text-lg mb-2">å°åº¦äºº India</h4>
                    <p class="text-sm text-emerald-200 mb-2">çº¦7%äººå£</p>
                    <p class="text-xs text-emerald-300">å°åº¦æ•™ï¼Œä¸»è¦èŠ‚æ—¥ï¼šå± å¦–èŠ‚ Deepavali</p>
                  </div>
                </div>
                <div class="mt-6 bg-emerald-900/50 rounded-xl p-4 border border-emerald-500/30">
                  <h4 class="font-semibold mb-2 flex items-center gap-2">
                    <span>ğŸ’¡</span> å‹å¥½è´´å£«
                  </h4>
                  <p class="text-sm text-emerald-200">å°Šé‡æ¯ä¸ªæ°‘æ—çš„æ–‡åŒ–å’Œå®—æ•™ä¹ ä¿—ã€‚é©¬æ¥è¥¿äºšäººæ™®éå‹å¥½çƒ­æƒ…ï¼Œä¸€å¥"Terima kasih"ï¼ˆè°¢è°¢ï¼‰ä¼šè®©ä»–ä»¬å¾ˆå¼€å¿ƒï¼</p>
                </div>
              </div>
            </div>

            <!-- Greetings -->
            <div class="mt-8 bg-indigo-800/30 rounded-2xl p-5 border border-indigo-600/30">
              <h3 class="font-bold mb-4 flex items-center gap-2">
                <span class="text-xl">ğŸ‘‹</span> é—®å€™æ–¹å¼ Cara Memberi Salam
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-indigo-900/50 rounded-lg p-4">
                  <h4 class="font-semibold mb-2">é©¬æ¥äººé—®å€™</h4>
                  <p class="poppins text-indigo-300">Assalamualaikum</p>
                  <p class="text-sm text-indigo-200">æ„¿å’Œå¹³ä¸ä½ åŒåœ¨</p>
                  <p class="text-xs mt-2 text-indigo-300">å›å¤ï¼šWaalaikumsalam</p>
                </div>
                <div class="bg-indigo-900/50 rounded-lg p-4">
                  <h4 class="font-semibold mb-2">æ¡æ‰‹ç¤¼ä»ª</h4>
                  <p class="text-sm text-indigo-200">ä¸é©¬æ¥äººæ¡æ‰‹åï¼Œå°†æ‰‹æ”¾åœ¨èƒ¸å£è¡¨ç¤ºçœŸè¯š</p>
                  <p class="text-xs mt-2 text-indigo-300">æ³¨æ„ï¼šå¼‚æ€§é—´å¯èƒ½é¿å…æ¡æ‰‹</p>
                </div>
                <div class="bg-indigo-900/50 rounded-lg p-4">
                  <h4 class="font-semibold mb-2">é€šç”¨é—®å€™</h4>
                  <p class="poppins text-indigo-300">Selamat!</p>
                  <p class="text-sm text-indigo-200">ä½ å¥½ï¼/ ç¥ç¦ï¼</p>
                  <p class="text-xs mt-2 text-indigo-300">é€‚ç”¨äºæ‰€æœ‰æ°‘æ—</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Navigation -->
          <div class="flex justify-between items-center pt-6">
            <button onclick="showChapter(8)" class="flex items-center gap-2 bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition">
              â† ä¸Šä¸€ç« 
            </button>
            <button onclick="showHome()" class="flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-lg transition">
              ğŸ  è¿”å›é¦–é¡µ
            </button>
          </div>

          <!-- Completion Message -->
          <div class="text-center py-8">
            <div class="inline-block bg-gradient-to-r from-emerald-600/30 to-teal-600/30 rounded-2xl px-8 py-6 border border-emerald-500/30">
              <div class="text-4xl mb-4">ğŸ‰</div>
              <h3 class="text-2xl font-bold mb-2">æ­å–œå®Œæˆå­¦ä¹ ï¼</h3>
              <p class="poppins text-emerald-300 mb-2">Tahniah! Anda telah selesai!</p>
              <p class="text-emerald-200">ç¥æ‚¨åœ¨é©¬æ¥è¥¿äºšæ—…é€”æ„‰å¿«ï¼Selamat melancong!</p>
            </div>
          </div>
        </div>
      `;
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      console.log("Page loaded successfully");
      showHome(); // Start with home view
    });

    // Make functions available globally
    window.showHome = showHome;
    window.showProgress = showProgress;
    window.showChapter = showChapter;
    window.markLearned = markLearned;
    window.checkAnswer = checkAnswer;
    window.speak = speak;
    window.selectBoutiqueOption = selectBoutiqueOption;
    window.retryBoutiqueItem = retryBoutiqueItem;
    window.resetBoutiqueGame = resetBoutiqueGame;
    window.selectNavigationOption = selectNavigationOption;
    window.nextNavigationStep = nextNavigationStep;
    window.nextNavigationMission = nextNavigationMission;
    window.retryNavigationStep = retryNavigationStep;
    window.resetNavigationGame = resetNavigationGame;
    window.selectMatchCard = selectMatchCard;
    window.resetMatchingGame = resetMatchingGame;
    window.selectGameOption = selectGameOption;
    window.nextScenario = nextScenario;
    window.retryScenario = retryScenario;
    window.resetGame = resetGame;
  </script>
</body>
</html>
